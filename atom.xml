<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Kamui&#39;s Notes</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2018-12-12T08:41:30.448Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Kamui</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>EasyUI DataGrid 表头合并样式</title>
    <link href="http://yoursite.com/2018/11/20/css/Css-002/"/>
    <id>http://yoursite.com/2018/11/20/css/Css-002/</id>
    <published>2018-11-20T02:11:55.000Z</published>
    <updated>2018-12-12T08:41:30.448Z</updated>
    
    <content type="html"><![CDATA[<p>EasyUI DataGrid 表头合并样式</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*表头背景自动填充*/</span></span><br><span class="line"><span class="selector-class">.datagrid-header</span>, <span class="selector-class">.datagrid-td-rownumber</span> &#123;</span><br><span class="line">    <span class="attribute">background-size</span>: cover;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*合并标题 统一字号与字体*/</span></span><br><span class="line"><span class="selector-class">.datagrid-header-row</span> <span class="selector-tag">td</span> <span class="selector-class">.datagrid-cell-group</span>&#123;</span><br><span class="line"><span class="attribute">font-family</span>: <span class="string">"Microsoft YaHei"</span>;</span><br><span class="line"><span class="attribute">font-size</span>: <span class="number">16px</span>;    </span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#757575</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>:bold;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;EasyUI DataGrid 表头合并样式&lt;/p&gt;
&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;l
      
    
    </summary>
    
    
      <category term="Css" scheme="http://yoursite.com/tags/Css/"/>
    
      <category term="EasyUI" scheme="http://yoursite.com/tags/EasyUI/"/>
    
      <category term="DataGrid" scheme="http://yoursite.com/tags/DataGrid/"/>
    
  </entry>
  
  <entry>
    <title>input上传样式美化</title>
    <link href="http://yoursite.com/2018/10/26/js/JavaScript-020/"/>
    <id>http://yoursite.com/2018/10/26/js/JavaScript-020/</id>
    <published>2018-10-26T08:19:19.000Z</published>
    <updated>2018-10-26T09:12:28.313Z</updated>
    
    <content type="html"><![CDATA[<p>input上传样式美化，替换原始input文件上传样式<br>实现方法：将原有<code>input</code>透明度改为0,并改为按钮样式，用另一个<code>div</code>模拟<code>input</code>显示文件名称</p><p><img src="/uploads/input.png" style="border:1px solid #eeeeee;padding:5px;border-radius: 10px;"></p><a id="more"></a><p><em>代码如下：</em></p><p>通过传入<code>input id</code>与模拟<code>input</code>的<code>div id</code>来实现，缺点每一组都要有独立的</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Kamui on 2018/10/26.</span></span><br><span class="line"><span class="comment"> * 获取input上传路径并显示（美化input file）</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFileSrc</span>(<span class="params">inputEl,innerEl</span>) </span>&#123;</span><br><span class="line">    $(inputEl).change(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> getVal = $(inputEl)[<span class="number">0</span>].files[<span class="number">0</span>].name;</span><br><span class="line">        $(innerEl).text(getVal).attr(<span class="string">'title'</span>,getVal);</span><br><span class="line">        <span class="comment">//console.log(getVal);</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line">getFileSrc(<span class="string">'#upLoad_1'</span>,<span class="string">'#upLoad_text_1'</span>);</span><br></pre></td></tr></table></figure><p><em>优化后代码如下：</em></p><p>通过传入外层<code>div class</code>与模拟的<code>input class</code>来实现，不需要传入独立<code>id</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Kamui on 2018/10/26.</span></span><br><span class="line"><span class="comment"> * 获取input上传路径并显示（美化input file）</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFileSrc</span>(<span class="params">wrap,inner</span>) </span>&#123;</span><br><span class="line">    $(wrap + <span class="string">' input'</span>).each(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        $(<span class="keyword">this</span>).change(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> Src = $(<span class="keyword">this</span>)[<span class="number">0</span>].files[<span class="number">0</span>].name;</span><br><span class="line">            <span class="comment">//console.log(Src);</span></span><br><span class="line">            <span class="keyword">var</span> parent = $(<span class="keyword">this</span>).parent();<span class="comment">//input</span></span><br><span class="line">            parent.prevAll(inner).text(Src).attr(<span class="string">'title'</span>,Src);<span class="comment">//接收div</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>($(<span class="string">'.upload_wrap'</span>))&#123;</span><br><span class="line">    getFileSrc(<span class="string">'.upload_wrap'</span>,<span class="string">'.upload'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><em>Demo如下</em></p><p><a href="https://kamui1073.gitee.io/xxcp/app/iframe/upload.html" target="_blank">演示demo</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;input上传样式美化，替换原始input文件上传样式&lt;br&gt;实现方法：将原有&lt;code&gt;input&lt;/code&gt;透明度改为0,并改为按钮样式，用另一个&lt;code&gt;div&lt;/code&gt;模拟&lt;code&gt;input&lt;/code&gt;显示文件名称&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/uploads/input.png&quot; style=&quot;border:1px solid #eeeeee;padding:5px;border-radius: 10px;&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>气象雷达图</title>
    <link href="http://yoursite.com/2018/09/12/js/JavaScript-019/"/>
    <id>http://yoursite.com/2018/09/12/js/JavaScript-019/</id>
    <published>2018-09-12T08:19:19.000Z</published>
    <updated>2018-09-12T10:33:13.694Z</updated>
    
    <content type="html"><![CDATA[<p>气象雷达图，由底图与透明雷达图构成</p><a id="more"></a><p><em>代码如下：</em></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Kamui on 2018/8/28.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">window</span>.onload = !<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//初始值</span></span><br><span class="line">    <span class="keyword">var</span> index = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//云图改变次数</span></span><br><span class="line">    <span class="keyword">var</span> num = <span class="number">13</span>;</span><br><span class="line">    <span class="comment">//计时器</span></span><br><span class="line">    <span class="keyword">var</span> timer;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> getEl = <span class="function"><span class="keyword">function</span> (<span class="params">el</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">document</span>.querySelector(el);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">addSrc</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> map = getEl(<span class="string">'.cloud'</span>);</span><br><span class="line">        map.src = <span class="string">"images/maps/"</span> + (index +<span class="number">1</span>) + <span class="string">".png"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> init = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        timer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="comment">//console.log(index);</span></span><br><span class="line">            addSrc();</span><br><span class="line">            index ++;</span><br><span class="line">            <span class="keyword">if</span>(index === num) &#123;</span><br><span class="line">                <span class="comment">//清除计时器</span></span><br><span class="line">                clearInterval(timer);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,<span class="number">1000</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">    init();</span><br><span class="line">&#125;()</span><br></pre></td></tr></table></figure><p><em>Demo如下</em></p><p><a href="https://kamui1073.gitee.io/demo/app/01-%E9%9B%B7%E8%BE%BE%E5%9B%BE.html" target="_blank">演示demo</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;气象雷达图，由底图与透明雷达图构成&lt;/p&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>阻止事件冒泡</title>
    <link href="http://yoursite.com/2018/09/06/js/JavaScript-018/"/>
    <id>http://yoursite.com/2018/09/06/js/JavaScript-018/</id>
    <published>2018-09-06T08:19:19.000Z</published>
    <updated>2018-09-06T02:44:18.575Z</updated>
    
    <content type="html"><![CDATA[<p>阻止事件冒泡，兼容主流浏览器</p><p><em>代码如下：</em></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Created by Kamui on 2018/9/6.</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">var</span> e = <span class="built_in">window</span>.event || <span class="built_in">arguments</span>.callee.caller.arguments[<span class="number">0</span>];</span><br><span class="line">e.stopPropagation();</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;阻止事件冒泡，兼容主流浏览器&lt;/p&gt;
&lt;p&gt;&lt;em&gt;代码如下：&lt;/em&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/sp
      
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>移动端加载更多(SVG动画)</title>
    <link href="http://yoursite.com/2018/05/10/js/JavaScript-017/"/>
    <id>http://yoursite.com/2018/05/10/js/JavaScript-017/</id>
    <published>2018-05-10T08:19:19.000Z</published>
    <updated>2018-05-17T03:24:19.190Z</updated>
    
    <content type="html"><![CDATA[<p>使用<code>font awesome</code>实现加载动画<br>点击按钮加载与滑动底部自动加载<br>修复之前<code>id</code>重复问题</p><a id="more"></a><p><em>点击按钮 代码如下：</em></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Created by Kamui on 2018/5/9.</span></span><br><span class="line"><span class="comment">  * 移动端模拟加载</span></span><br><span class="line"><span class="comment">  * 克隆元素模拟加载效果</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="keyword">var</span>  module_CloneEl = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">     <span class="comment">//克隆元素</span></span><br><span class="line">     <span class="keyword">var</span> addNodes = <span class="function"><span class="keyword">function</span> (<span class="params">id,num</span>) </span>&#123;</span><br><span class="line">         <span class="keyword">var</span> _listNode = <span class="built_in">document</span>.getElementById(id);</span><br><span class="line">         <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; num; i++) &#123;</span><br><span class="line">             <span class="keyword">var</span> clonedNode = _listNode.cloneNode(<span class="literal">true</span>);<span class="comment">//获取被克隆节点(包括属性与子节点)</span></span><br><span class="line">             _listNode.parentNode.appendChild(clonedNode);<span class="comment">//为父节点插入克隆节点</span></span><br><span class="line">         &#125;</span><br><span class="line">     &#125;;</span><br><span class="line">     <span class="comment">//为克隆元素添加Id</span></span><br><span class="line">     <span class="keyword">var</span> addId = <span class="function"><span class="keyword">function</span> (<span class="params">id,el</span>) </span>&#123;</span><br><span class="line">         <span class="keyword">var</span> els= <span class="built_in">document</span>.getElementById(id).getElementsByTagName(el);</span><br><span class="line">         <span class="comment">//-1 保留最后一个元素id方便下次加载</span></span><br><span class="line">         <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; (els.length <span class="number">-1</span>); j++)&#123;</span><br><span class="line">             els[j].setAttribute(<span class="string">"id"</span>, id + <span class="string">"-"</span> + j);<span class="comment">//修改id 值，避免id 值重复</span></span><br><span class="line">         &#125;</span><br><span class="line">     &#125;;</span><br><span class="line">     <span class="comment">//为标题编号</span></span><br><span class="line">     <span class="keyword">var</span> addTittle = <span class="function"><span class="keyword">function</span> (<span class="params">titEl,txt</span>) </span>&#123;</span><br><span class="line">         <span class="keyword">var</span>  title = <span class="built_in">document</span>.querySelectorAll(titEl);</span><br><span class="line">         <span class="keyword">for</span>(<span class="keyword">var</span> one <span class="keyword">in</span> title)&#123;</span><br><span class="line">             title[one].innerHTML = txt + one;</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;;</span><br><span class="line">     <span class="comment">//加载效果</span></span><br><span class="line">     <span class="keyword">var</span> loading = <span class="function"><span class="keyword">function</span>(<span class="params">loading,more</span>) </span>&#123;</span><br><span class="line">         <span class="function"><span class="keyword">function</span> <span class="title">$</span>(<span class="params">id</span>) </span>&#123;</span><br><span class="line">             <span class="keyword">return</span> <span class="built_in">document</span>.querySelector(id);</span><br><span class="line">         &#125;</span><br><span class="line">         $(loading).style.display =<span class="string">"block"</span>;</span><br><span class="line">         $(more).style.display = <span class="string">"none"</span>;</span><br><span class="line">         setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">             $(loading).style.display =<span class="string">"none"</span>;</span><br><span class="line">             $(more).style.display = <span class="string">"block"</span>;</span><br><span class="line">         &#125;,<span class="number">1500</span>)</span><br><span class="line">     &#125;;</span><br><span class="line">     <span class="comment">//为加载按钮绑定事件</span></span><br><span class="line">     <span class="keyword">var</span> addEvents = <span class="function"><span class="keyword">function</span> (<span class="params">addNode,CloneEl,num,wrapId,tag,titleEl,text,loadingSvg,moreBtn</span>) </span>&#123;</span><br><span class="line">         <span class="keyword">var</span> addBtn = <span class="built_in">document</span>.getElementById(addNode);</span><br><span class="line">         addBtn.addEventListener(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">             loading(loadingSvg,moreBtn);<span class="comment">//加载动画</span></span><br><span class="line">             <span class="comment">//动画加载完毕后再加载内容；时间与加载动画时间相同</span></span><br><span class="line">             setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                 addNodes(CloneEl,num);</span><br><span class="line">                 addId(wrapId,tag);</span><br><span class="line">                 addTittle(titleEl,text);</span><br><span class="line">             &#125;,<span class="number">1500</span>);</span><br><span class="line">         &#125;);</span><br><span class="line">     &#125;;</span><br><span class="line">     <span class="keyword">return</span> &#123;</span><br><span class="line">         addEvents :addEvents</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;());</span><br><span class="line"> <span class="comment">//页面加载完成调用克隆元素</span></span><br><span class="line"> <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">     module_CloneEl.addEvents(</span><br><span class="line">         <span class="string">"addNode"</span>,               <span class="comment">//加载按钮id</span></span><br><span class="line">         <span class="string">"list"</span>,                  <span class="comment">//克隆元素id</span></span><br><span class="line">         <span class="string">"5"</span>,                     <span class="comment">//克隆数量</span></span><br><span class="line">         <span class="string">"nodeWrap"</span>,              <span class="comment">//修改克隆元素id用的外层id</span></span><br><span class="line">         <span class="string">"div"</span>,                   <span class="comment">//修改id遍历用标签</span></span><br><span class="line">         <span class="string">".cont-wrap .title a"</span>,   <span class="comment">//标题元素</span></span><br><span class="line">         <span class="string">"第二届中国高校科技成果交易会成功举办"</span>,   <span class="comment">// 标题内容</span></span><br><span class="line">         <span class="string">".loading"</span>,              <span class="comment">//动画元素</span></span><br><span class="line">         <span class="string">".listmore"</span>              <span class="comment">//按钮元素 加载效果用</span></span><br><span class="line">     );</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p><em>按钮加载 Demo如下</em></p><p><a href="http://kamui1073.gitee.io/zxqy-m/app/03-01%E5%88%97%E8%A1%A8%E9%A1%B5-%E6%8C%89%E9%92%AE%E5%8A%A0%E8%BD%BD.html" target="_blank">演示demo</a></p><p><em>滑动底部自动加载 代码如下：</em></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* Created by Kamui on 2018/5/9.</span></span><br><span class="line"><span class="comment">* 移动端模拟加载</span></span><br><span class="line"><span class="comment">* 克隆元素模拟加载效果</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span>  module_CloneEl = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> isAddItem = <span class="literal">false</span>; <span class="comment">//是否正在添加列表</span></span><br><span class="line">  <span class="comment">//克隆元素</span></span><br><span class="line">  <span class="keyword">var</span> addNodes = <span class="function"><span class="keyword">function</span> (<span class="params">id,num</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span> _listNode = <span class="built_in">document</span>.getElementById(id);</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; num; i++) &#123;</span><br><span class="line">          <span class="keyword">var</span> clonedNode = _listNode.cloneNode(<span class="literal">true</span>);<span class="comment">//获取被克隆节点(包括属性与子节点)</span></span><br><span class="line">          _listNode.parentNode.appendChild(clonedNode);<span class="comment">//为父节点插入克隆节点</span></span><br><span class="line">      &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">//为克隆元素添加Id</span></span><br><span class="line">  <span class="keyword">var</span> addId = <span class="function"><span class="keyword">function</span> (<span class="params">id,el</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span> els= <span class="built_in">document</span>.getElementById(id).getElementsByTagName(el);</span><br><span class="line">      <span class="comment">//-1 保留最后一个元素id方便下次加载</span></span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; (els.length <span class="number">-1</span>); j++)&#123;</span><br><span class="line">          els[j].setAttribute(<span class="string">"id"</span>, id + <span class="string">"-"</span> + j);<span class="comment">//修改id 值，避免id 值重复</span></span><br><span class="line">      &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">//为标题编号</span></span><br><span class="line">  <span class="keyword">var</span> addTittle = <span class="function"><span class="keyword">function</span> (<span class="params">titEl,txt</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span>  title = <span class="built_in">document</span>.querySelectorAll(titEl);</span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">var</span> one <span class="keyword">in</span> title)&#123;</span><br><span class="line">          title[one].innerHTML = txt + one;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">//加载效果</span></span><br><span class="line">  <span class="keyword">var</span> loading = <span class="function"><span class="keyword">function</span>(<span class="params">loading</span>) </span>&#123;</span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">$</span>(<span class="params">id</span>) </span>&#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="built_in">document</span>.querySelector(id);</span><br><span class="line">      &#125;</span><br><span class="line">      $(loading).style.display =<span class="string">"block"</span>;</span><br><span class="line">      setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">          $(loading).style.display =<span class="string">"none"</span>;</span><br><span class="line">      &#125;,<span class="number">1500</span>)</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">//加载内容</span></span><br><span class="line">  <span class="keyword">var</span> render = <span class="function"><span class="keyword">function</span> (<span class="params">CloneEl,num,wrapId,tag,titleEl,text,loadingSvg</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (!isAddItem) &#123;</span><br><span class="line">          isAddItem = <span class="literal">true</span>;</span><br><span class="line">          loading(loadingSvg);<span class="comment">//加载动画</span></span><br><span class="line">          <span class="comment">//加载延迟</span></span><br><span class="line">          setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">              addNodes(CloneEl, num);</span><br><span class="line">              addId(wrapId, tag);</span><br><span class="line">              addTittle(titleEl, text);</span><br><span class="line">              isAddItem = <span class="literal">false</span>;</span><br><span class="line">          &#125;, <span class="number">1500</span>);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">//绑定滚动监听，实现加载数据</span></span><br><span class="line">  <span class="keyword">var</span> addEvents = <span class="function"><span class="keyword">function</span>  (<span class="params">CloneEl,num,wrapId,tag,titleEl,text,loadingSvg</span>) </span>&#123;</span><br><span class="line">      <span class="built_in">window</span>.addEventListener(<span class="string">'scroll'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">          <span class="comment">//计算滚动条到底部的距离</span></span><br><span class="line">          <span class="keyword">var</span> totalHeight = <span class="built_in">document</span>.body.scrollHeight;  <span class="comment">//元素的总高度</span></span><br><span class="line">          <span class="comment">//被隐藏上方像素</span></span><br><span class="line">          <span class="keyword">var</span> scrollTop = <span class="built_in">document</span>.documentElement.scrollTop || <span class="built_in">document</span>.body.scrollTop;</span><br><span class="line">          <span class="keyword">var</span> clientHeight = <span class="built_in">document</span>.documentElement.clientHeight;   <span class="comment">//浏览器视口高度</span></span><br><span class="line"></span><br><span class="line">          <span class="keyword">var</span> bottom = totalHeight-scrollTop - clientHeight;</span><br><span class="line">          <span class="comment">//载入的位置</span></span><br><span class="line">          <span class="keyword">if</span> (bottom &lt; <span class="number">300</span>) &#123;</span><br><span class="line">              render(CloneEl,num,wrapId,tag,titleEl,text,loadingSvg);</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">      addEvents :addEvents</span><br><span class="line">  &#125;</span><br><span class="line">&#125;());</span><br><span class="line"><span class="comment">//页面加载完成调用克隆元素</span></span><br><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  module_CloneEl.addEvents(</span><br><span class="line">      <span class="string">"list"</span>,                  <span class="comment">//克隆元素id</span></span><br><span class="line">      <span class="string">"5"</span>,                     <span class="comment">//克隆数量</span></span><br><span class="line">      <span class="string">"nodeWrap"</span>,              <span class="comment">//修改克隆元素id用的外层id</span></span><br><span class="line">      <span class="string">"div"</span>,                   <span class="comment">//修改id遍历用标签</span></span><br><span class="line">      <span class="string">".cont-wrap .title a"</span>,   <span class="comment">//标题元素</span></span><br><span class="line">      <span class="string">"第二届中国高校科技成果交易会成功举办"</span>,   <span class="comment">// 标题内容</span></span><br><span class="line">      <span class="string">".loading"</span>              <span class="comment">//动画元素</span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><em>滑动底部自动加载 Demo如下</em></p><p><a href="http://kamui1073.gitee.io/zxqy-m/app/03-02%E5%88%97%E8%A1%A8%E9%A1%B5-%E6%BB%9A%E5%8A%A8%E5%8A%A0%E8%BD%BD.html" target="_blank">演示demo</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;使用&lt;code&gt;font awesome&lt;/code&gt;实现加载动画&lt;br&gt;点击按钮加载与滑动底部自动加载&lt;br&gt;修复之前&lt;code&gt;id&lt;/code&gt;重复问题&lt;/p&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>Hexo 加密插件 hexo-blog-encrypt</title>
    <link href="http://yoursite.com/2018/03/06/hexo/Hexo-Encrypt/"/>
    <id>http://yoursite.com/2018/03/06/hexo/Hexo-Encrypt/</id>
    <published>2018-03-06T07:08:22.000Z</published>
    <updated>2018-03-06T08:28:37.973Z</updated>
    
    <content type="html"><![CDATA[<h2 id="什么是-Hexo-Blog-Encrypt"><a href="#什么是-Hexo-Blog-Encrypt" class="headerlink" title="什么是 Hexo-Blog-Encrypt"></a>什么是 Hexo-Blog-Encrypt</h2><blockquote><p>尝试着想一下，你写了一篇博客，但是，出于某种原因，不太希望每一个人都可以看到他。所以你常常会为这种文章设置一个密码，其他人需要输入密码才可以访问这篇博客。对于 emlog 或者 wordpress 来说，这很容易，但是对于 hexo 来说，之前并没有一个类似的功能。</p><p>所以，Hexo-Blog-Encrypt 因为这个需求而诞生了。</p></blockquote><h4 id="GigHub地址"><a href="#GigHub地址" class="headerlink" title="GigHub地址"></a>GigHub地址</h4><p>GigHub <a href="https://github.com/MikeCoder/hexo-blog-encrypt" target="_blank" rel="noopener">https://github.com/MikeCoder/hexo-blog-encrypt</a></p><a id="more"></a><h2 id="线上-Demo"><a href="#线上-Demo" class="headerlink" title="线上 Demo"></a>线上 Demo</h2><p>你可以查看 <a href="https://mhexo.github.io/example-site/2016/10/26/HexoBlogEncrpyt/" target="_blank" rel="noopener">https://mhexo.github.io/example-site/2016/10/26/HexoBlogEncrpyt/</a></p><p>所有的密码都是 “mikemessi”</p><h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><ul><li>在 hexo 根目录的 <em>package.json</em> 中添加 ‘“hexo-blog-encrypt”: “1.1.*“‘ 依赖。</li><li>然后执行 <em>npm install</em> 命令。</li><li>该插件会自动安装</li></ul><h1 id="快速开始"><a href="#快速开始" class="headerlink" title="快速开始"></a>快速开始</h1><ul><li>首先在 <code>_config.yml</code> 中启用该插件:</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># Security</span><br><span class="line">##</span><br><span class="line">encrypt:</span><br><span class="line">    enable: true</span><br></pre></td></tr></table></figure><ul><li>然后在你的文章的头部添加上对应的字段，如 password, abstract, message</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: hello world</span><br><span class="line">date: 2016-03-30 21:18:02</span><br><span class="line">tags:</span><br><span class="line">    - fdsafsdaf</span><br><span class="line">password: Mike</span><br><span class="line">abstract: Welcome to my blog, enter password to read.</span><br><span class="line">message: Welcome to my blog, enter password to read.</span><br><span class="line">---</span><br></pre></td></tr></table></figure><ul><li>如果你想对 TOC 也进行加密，则在 article.ejs 中将 TOC 的生成代码修改成如下：</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if(post.toc == true)&#123; %&gt;</span><br><span class="line">    &lt;div id=&quot;toc-div&quot; class=&quot;toc-article&quot; &lt;% if (post.encrypt == true) &#123; %&gt;style=&quot;display:none&quot; &lt;% &#125; %&gt;&gt;</span><br><span class="line">        &lt;strong class=&quot;toc-title&quot;&gt;Index&lt;/strong&gt;</span><br><span class="line">        &lt;% if (post.encrypt == true) &#123; %&gt;</span><br><span class="line">            &lt;%- toc(post.origin) %&gt;</span><br><span class="line">        &lt;% &#125; else &#123; %&gt;</span><br><span class="line">            &lt;%- toc(post.content) %&gt;</span><br><span class="line">        &lt;% &#125; %&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br><span class="line">&lt;%- post.content %&gt;</span><br></pre></td></tr></table></figure><ul><li>然后使用 <em>hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</em>，来查看效果。</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;什么是-Hexo-Blog-Encrypt&quot;&gt;&lt;a href=&quot;#什么是-Hexo-Blog-Encrypt&quot; class=&quot;headerlink&quot; title=&quot;什么是 Hexo-Blog-Encrypt&quot;&gt;&lt;/a&gt;什么是 Hexo-Blog-Encrypt&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;尝试着想一下，你写了一篇博客，但是，出于某种原因，不太希望每一个人都可以看到他。所以你常常会为这种文章设置一个密码，其他人需要输入密码才可以访问这篇博客。对于 emlog 或者 wordpress 来说，这很容易，但是对于 hexo 来说，之前并没有一个类似的功能。&lt;/p&gt;
&lt;p&gt;所以，Hexo-Blog-Encrypt 因为这个需求而诞生了。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&quot;GigHub地址&quot;&gt;&lt;a href=&quot;#GigHub地址&quot; class=&quot;headerlink&quot; title=&quot;GigHub地址&quot;&gt;&lt;/a&gt;GigHub地址&lt;/h4&gt;&lt;p&gt;GigHub &lt;a href=&quot;https://github.com/MikeCoder/hexo-blog-encrypt&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://github.com/MikeCoder/hexo-blog-encrypt&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="Hexo" scheme="http://yoursite.com/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>克隆元素模拟加载效果(按钮加载)</title>
    <link href="http://yoursite.com/2018/01/23/js/JavaScript-015/"/>
    <id>http://yoursite.com/2018/01/23/js/JavaScript-015/</id>
    <published>2018-01-23T08:19:19.000Z</published>
    <updated>2018-02-28T03:43:14.702Z</updated>
    
    <content type="html"><![CDATA[<p>利用<code>克隆元素</code>模拟加载更多效果<br>克隆元素，在其父元素最后追加子元素，模拟列表加载<br>点击加载更多后先显示加载动画，再载入内容</p><a id="more"></a><p><em>代码如下：</em></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Kamui on 2018/01/23.</span></span><br><span class="line"><span class="comment"> * 克隆元素模拟加载效果 按钮加载</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> module_CloneEl = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> ClonedNode = <span class="function"><span class="keyword">function</span>(<span class="params">id,num</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> _listNode = <span class="built_in">document</span>.getElementById(id);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; num; i++) &#123;</span><br><span class="line">            <span class="keyword">var</span> clonedNode = _listNode.cloneNode(<span class="literal">true</span>);<span class="comment">//获取被克隆节点(包括属性与子节点)</span></span><br><span class="line">            clonedNode.setAttribute(<span class="string">"id"</span>, id + <span class="string">"-"</span> + i);<span class="comment">//修改id 值，避免id 值重复</span></span><br><span class="line">            _listNode.parentNode.appendChild(clonedNode);<span class="comment">//为父节点插入克隆节点</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">//题目个数变更</span></span><br><span class="line">    <span class="keyword">var</span> changeNum = <span class="function"><span class="keyword">function</span>(<span class="params">id,el</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> getNumber =  <span class="built_in">document</span>.getElementById(id).getElementsByClassName(el);<span class="comment">//获取题目个数</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i =<span class="number">0</span>; i &lt; getNumber.length; i++)&#123;</span><br><span class="line">            getNumber[i].innerHTML = i + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">//加载效果</span></span><br><span class="line">    <span class="keyword">var</span>  loading = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">$</span>(<span class="params">id</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">document</span>.querySelector(id);</span><br><span class="line">        &#125;</span><br><span class="line">        $(<span class="string">".loading"</span>).style.display =<span class="string">"block"</span>;</span><br><span class="line">        $(<span class="string">".more-wrap"</span>).style.display = <span class="string">"none"</span>;</span><br><span class="line">        setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            $(<span class="string">".loading"</span>).style.display =<span class="string">"none"</span>;</span><br><span class="line">            $(<span class="string">".more-wrap"</span>).style.display = <span class="string">"block"</span>;</span><br><span class="line">        &#125;,<span class="number">1500</span>)</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">//为加载更多按钮绑定事件</span></span><br><span class="line">    <span class="keyword">var</span>  addMore = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">"clNode"</span>).onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            loading();</span><br><span class="line">            <span class="comment">//加载延迟</span></span><br><span class="line">            setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                ClonedNode(<span class="string">"node"</span>,<span class="number">5</span>);<span class="comment">//载入数量</span></span><br><span class="line">                changeNum(<span class="string">"Content"</span>,<span class="string">"num"</span>)<span class="comment">//改变标题数字</span></span><br><span class="line">            &#125;,<span class="number">1400</span>);</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        addMore : addMore</span><br><span class="line">    &#125;</span><br><span class="line">&#125;());</span><br><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    module_CloneEl.addMore();</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><em>Demo如下</em></p><p><a href="http://kamui1073.oschina.io/ctb-m/app/01-%E9%A6%96%E9%A1%B5.html" target="_blank">演示demo</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;利用&lt;code&gt;克隆元素&lt;/code&gt;模拟加载更多效果&lt;br&gt;克隆元素，在其父元素最后追加子元素，模拟列表加载&lt;br&gt;点击加载更多后先显示加载动画，再载入内容&lt;/p&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>克隆元素模拟加载效果(滚动加载)</title>
    <link href="http://yoursite.com/2018/01/23/js/JavaScript-016/"/>
    <id>http://yoursite.com/2018/01/23/js/JavaScript-016/</id>
    <published>2018-01-23T08:19:19.000Z</published>
    <updated>2018-02-28T08:24:54.791Z</updated>
    
    <content type="html"><![CDATA[<p>利用<code>克隆元素</code>模拟加载效果<br>克隆元素，在其父元素最后追加子元素，模拟列表加载<br>屏幕滑动到底部触发加载</p><a id="more"></a><p><em>代码如下：</em></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Kamui on 2018/02/02.</span></span><br><span class="line"><span class="comment"> * 循环列表或标题</span></span><br><span class="line"><span class="comment"> * 参数对应：克隆对象id,循环数量</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> module_CloneEl = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> isAddItem = <span class="literal">false</span>; <span class="comment">//是否正在添加列表</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> ClonedNode = <span class="function"><span class="keyword">function</span> (<span class="params">id,num</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> _listNode = <span class="built_in">document</span>.getElementById(id);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; num; i++) &#123;</span><br><span class="line">            <span class="keyword">var</span> clonedNode = _listNode.cloneNode(<span class="literal">true</span>);<span class="comment">//获取被克隆节点(包括属性与子节点)</span></span><br><span class="line">            clonedNode.setAttribute(<span class="string">"id"</span>, id + <span class="string">"-"</span> + i);<span class="comment">//修改id 值，避免id 值重复</span></span><br><span class="line">            _listNode.parentNode.appendChild(clonedNode);<span class="comment">//为父节点插入克隆节点</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">//题目个数变更</span></span><br><span class="line">    <span class="keyword">var</span> changeNum = <span class="function"><span class="keyword">function</span> (<span class="params">id,el</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> getNumber =  <span class="built_in">document</span>.getElementById(id).getElementsByClassName(el);<span class="comment">//获取题目个数</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i =<span class="number">0</span>; i &lt; getNumber.length; i++)&#123;</span><br><span class="line">            getNumber[i].innerHTML = i + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//加载动画效果</span></span><br><span class="line">    <span class="keyword">var</span> loading = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">$</span>(<span class="params">id</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">document</span>.querySelector(id);</span><br><span class="line">        &#125;</span><br><span class="line">        $(<span class="string">".loading"</span>).style.display =<span class="string">"block"</span>;</span><br><span class="line">        setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            $(<span class="string">".loading"</span>).style.display =<span class="string">"none"</span>;</span><br><span class="line">        &#125;,<span class="number">1500</span>)</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//加载内容</span></span><br><span class="line">    <span class="keyword">var</span> render = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!isAddItem) &#123;</span><br><span class="line">            isAddItem=<span class="literal">true</span>;</span><br><span class="line">            loading();</span><br><span class="line">            <span class="comment">//加载延迟</span></span><br><span class="line">            setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                ClonedNode(<span class="string">"node"</span>,<span class="number">5</span>);<span class="comment">//载入数量</span></span><br><span class="line">                changeNum(<span class="string">"Content"</span>,<span class="string">"num"</span>);<span class="comment">//改变标题数字</span></span><br><span class="line">                isAddItem=<span class="literal">false</span>;</span><br><span class="line">            &#125;,<span class="number">1400</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//绑定滚动监听，实现加载数据</span></span><br><span class="line">    <span class="keyword">var</span> addEvent = <span class="function"><span class="keyword">function</span>  (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">window</span>.addEventListener(<span class="string">'scroll'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="comment">//计算滚动条到底部的距离</span></span><br><span class="line">            <span class="keyword">var</span> totalHeight = <span class="built_in">document</span>.body.scrollHeight;  <span class="comment">//元素的总高度</span></span><br><span class="line">            <span class="comment">//被隐藏上方像素</span></span><br><span class="line">            <span class="keyword">var</span> scrollTop = <span class="built_in">document</span>.documentElement.scrollTop || <span class="built_in">document</span>.body.scrollTop;</span><br><span class="line">            <span class="keyword">var</span> clientHeight = <span class="built_in">document</span>.documentElement.clientHeight;   <span class="comment">//浏览器视口高度</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> bottom = totalHeight-scrollTop - clientHeight;</span><br><span class="line">            <span class="comment">//载入的位置</span></span><br><span class="line">            <span class="keyword">if</span> (bottom &lt; <span class="number">300</span>) &#123;</span><br><span class="line">                render();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        addEvent: addEvent</span><br><span class="line">    &#125;</span><br><span class="line">&#125;());</span><br><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    module_CloneEl.addEvent();</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><em>Demo如下</em></p><p><a href="http://kamui1073.oschina.io/ctb-m/app/01-%E9%A6%96%E9%A1%B5-%E6%BB%9A%E5%8A%A8%E5%8A%A0%E8%BD%BD.html" target="_blank">演示demo</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;利用&lt;code&gt;克隆元素&lt;/code&gt;模拟加载效果&lt;br&gt;克隆元素，在其父元素最后追加子元素，模拟列表加载&lt;br&gt;屏幕滑动到底部触发加载&lt;/p&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>Nginx服务器禁止站点使用IP访问</title>
    <link href="http://yoursite.com/2018/01/17/nginx/nginx-https/"/>
    <id>http://yoursite.com/2018/01/17/nginx/nginx-https/</id>
    <published>2018-01-17T06:26:55.000Z</published>
    <updated>2018-02-28T03:43:14.704Z</updated>
    
    <content type="html"><![CDATA[<h3 id="nginx服务器禁止站点使用IP访问"><a href="#nginx服务器禁止站点使用IP访问" class="headerlink" title="nginx服务器禁止站点使用IP访问"></a>nginx服务器禁止站点使用IP访问</h3>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#http</span></span><br><span class="line">server</span><br><span class="line">&#123;</span><br><span class="line">   listen 80 default_server;</span><br><span class="line">   <span class="built_in">return</span> 404;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">#https</span></span><br><span class="line">server</span><br><span class="line">&#123;</span><br><span class="line">    listen 443 ssl default_server;</span><br><span class="line">    ssl_certificate      path_to_your_fullchain.cer;</span><br><span class="line">    ssl_certificate_key  paht_to_your_key;</span><br><span class="line">    <span class="built_in">return</span> 301 https://demo.com;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> https 一定要配置 ssl 证书</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;nginx服务器禁止站点使用IP访问&quot;&gt;&lt;a href=&quot;#nginx服务器禁止站点使用IP访问&quot; class=&quot;headerlink&quot; title=&quot;nginx服务器禁止站点使用IP访问&quot;&gt;&lt;/a&gt;nginx服务器禁止站点使用IP访问&lt;/h3&gt;  &lt;figure
      
    
    </summary>
    
    
      <category term="Nginx" scheme="http://yoursite.com/tags/Nginx/"/>
    
  </entry>
  
  <entry>
    <title>Git 提交换行符 core.autocrlf</title>
    <link href="http://yoursite.com/2017/12/27/git/Git-core.autocrlf/"/>
    <id>http://yoursite.com/2017/12/27/git/Git-core.autocrlf/</id>
    <published>2017-12-27T07:08:22.000Z</published>
    <updated>2018-02-28T03:43:14.689Z</updated>
    
    <content type="html"><![CDATA[<p>格式化是许多开发人员在协作时，特别是在跨平台情况下，遇到的令人头疼的细小问题。 由于编辑器的不同或者Windows程序员在跨平台项目中的文件行尾加入了回车换行符， 一些细微的空格变化会不经意地进入大家合作的工作或提交的补丁中。不用怕，Git的一些配置选项会帮助你解决这些问题。</p><a id="more"></a><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git cofig core.autocrlf</span><br></pre></td></tr></table></figure><p>假如你正在Windows上写程序，又或者你正在和其他人合作，他们在Windows上编程，而你却在其他系统上，在这些情况下，你可能会遇到行尾 结束符问题。 这是因为Windows使用回车和换行两个字符来结束一行，而Mac和Linux只使用换行一个字符。 虽然这是小问题，但它会极大地扰乱跨平台协作。</p><p>Git可以在你提交时自动地把行结束符CRLF转换成LF，而在签出代码时把LF转换成CRLF。用<code>core.autocrlf</code>来打开此项功能， 如果是在Windows系统上，把它设置成<code>true</code>，这样当签出代码时，LF会被转换成CRLF：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global core.autocrlf <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>Linux或Mac系统使用LF作为行结束符，因此你不想Git在签出文件时进行自动的转换；当一个以CRLF为行结束符的文件不小心被引入时你肯定想进行修正， 把<code>core.autocrlf</code>设置成input来告诉Git在提交时把CRLF转换成LF，签出时不转换</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global core.autocrlf input</span><br></pre></td></tr></table></figure><p>这样会在Windows系统上的签出文件中保留CRLF，会在Mac和Linux系统上，包括仓库中保留LF。<br>如果你是Windows程序员，且正在开发仅运行在Windows上的项目，可以设置false取消此功能，把回车符记录在库中：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global core.autocrlf <span class="literal">false</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;格式化是许多开发人员在协作时，特别是在跨平台情况下，遇到的令人头疼的细小问题。 由于编辑器的不同或者Windows程序员在跨平台项目中的文件行尾加入了回车换行符， 一些细微的空格变化会不经意地进入大家合作的工作或提交的补丁中。不用怕，Git的一些配置选项会帮助你解决这些问题。&lt;/p&gt;
    
    </summary>
    
    
      <category term="Git" scheme="http://yoursite.com/tags/Git/"/>
    
  </entry>
  
  <entry>
    <title>利用克隆元素模拟加载更多效果</title>
    <link href="http://yoursite.com/2017/12/26/js/JavaScript-014/"/>
    <id>http://yoursite.com/2017/12/26/js/JavaScript-014/</id>
    <published>2017-12-26T08:19:19.000Z</published>
    <updated>2018-02-28T03:43:14.702Z</updated>
    
    <content type="html"><![CDATA[<p>利用<code>克隆元素</code>模拟加载更多效果<br>克隆元素，在其父元素最后追加子元素，模拟列表加载</p><a id="more"></a><p><em>代码如下：</em></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Kamui on 2017/12/26.</span></span><br><span class="line"><span class="comment"> * 克隆列表</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ClonedNode</span>(<span class="params">id,num</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> _listNode = <span class="built_in">document</span>.getElementById(id);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; num; i++) &#123;</span><br><span class="line">        <span class="keyword">var</span> clonedNode = _listNode.cloneNode(<span class="literal">true</span>);<span class="comment">//获取被克隆节点(包括属性与子节点)</span></span><br><span class="line">        clonedNode.setAttribute(<span class="string">"id"</span>, id + <span class="string">"-"</span> + i);<span class="comment">//修改id 值，避免id 值重复</span></span><br><span class="line">        _listNode.parentNode.appendChild(clonedNode);<span class="comment">//为父节点插入克隆节点</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">"clNode"</span>).onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        ClonedNode(<span class="string">"node"</span>,<span class="number">5</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><em>Demo如下</em></p><p><a href="http://kamui1073.oschina.io/ctb-m/app/01-%E9%A6%96%E9%A1%B5.html" target="_blank">演示demo</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;利用&lt;code&gt;克隆元素&lt;/code&gt;模拟加载更多效果&lt;br&gt;克隆元素，在其父元素最后追加子元素，模拟列表加载&lt;/p&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>IFE JavaScript Task 2-07</title>
    <link href="http://yoursite.com/2017/12/22/ife2017/js2/Task07/"/>
    <id>http://yoursite.com/2017/12/22/ife2017/js2/Task07/</id>
    <published>2017-12-22T08:19:19.000Z</published>
    <updated>2018-02-28T03:43:14.696Z</updated>
    
    <content type="html"><![CDATA[<h1 id="任务七：UI组件之排序表格"><a href="#任务七：UI组件之排序表格" class="headerlink" title="任务七：UI组件之排序表格"></a>任务七：UI组件之排序表格</h1><h2 id="任务目的"><a href="#任务目的" class="headerlink" title="任务目的"></a>任务目的</h2><p>练习综合运用HTML、CSS、JavaScript实现局部功能<br>练习对于代码的抽象与封装<br>为第四阶段的RIA任务做准备</p><h2 id="任务描述"><a href="#任务描述" class="headerlink" title="任务描述"></a>任务描述</h2><p>参考下方设计图，实现一个支持列排序的表格组件<br>提供生成表格的接口，表格中的数据，表格样式尽量低耦合<br>可以配置对哪些列支持排序功能，并在表头进行排序按钮的显示，图中的样式为示意参考，可自行设定样式及交互方式<br>提供点击排序按钮后的响应接口，并提供默认的排序方法，当提供的接口没有具体实现时，按默认的排序方法进行排序操作，并更新表格中的数据显示。</p><h2 id="任务注意事项"><a href="#任务注意事项" class="headerlink" title="任务注意事项"></a>任务注意事项</h2><p>请注意代码风格的整齐、优雅<br>代码中含有必要的注释<br>可以合理选择使用其它第三方类库，但不建议</p><a id="more"></a><p><em>代码如下：</em></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>IFE JavaScript Task 2 - 07<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"wrapper"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//外部元素样式</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> wrapperStyle = <span class="string">"position:relative;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"font-size:12px;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"color:#fd6ba6;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"width:auto;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"height:auto;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"margin:10px;"</span>;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//表格样式</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> tableStyle = <span class="string">"border-collapse:collapse;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"border-spacing:0;"</span>;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//表格thead样式</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> theadStyle = <span class="string">"background:#fd6ba6;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"color:#ffffff;"</span>;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//表格td样式</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> tdStyle = <span class="string">"width:80px;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"height:30px;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"text-align:center;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"padding:1px;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"margin:0;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"border:1px solid #ff9dc6;"</span>;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//ubBtnStyle</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> upBtnStyle = <span class="string">"position: relative;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"left:10px;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"top: -7px;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"display: inline-block;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"width:0;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"height:0;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"border-bottom:10px solid #fff;"</span> +       <span class="comment">/*设置并显示上边框*/</span></span></span><br><span class="line"><span class="javascript">                <span class="string">"border-top:none;"</span> +                     <span class="comment">/*不设置下边框*/</span></span></span><br><span class="line"><span class="javascript">                <span class="string">"border-left:10px solid transparent;"</span> +  <span class="comment">/*设置但隐藏左边框*/</span></span></span><br><span class="line"><span class="javascript">                <span class="string">"border-right:10px solid transparent;"</span>;  <span class="comment">/*设置但隐藏右边框*/</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//downBtnStyle</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> downBtnStyle = <span class="string">"position: relative;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"left:-10px;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"bottom: -7px;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"display: inline-block;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"width:0;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"height:0;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"border-top:10px solid #fff;"</span> +          <span class="comment">/*设置并显示上边框*/</span></span></span><br><span class="line"><span class="javascript">                <span class="string">"border-bottom:none;"</span> +                  <span class="comment">/*不设置下边框*/</span></span></span><br><span class="line"><span class="javascript">                <span class="string">"border-left:10px solid transparent;"</span> +  <span class="comment">/*设置但隐藏左边框*/</span></span></span><br><span class="line"><span class="javascript">                <span class="string">"border-right:10px solid transparent;"</span>;  <span class="comment">/*设置但隐藏右边框*/</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">//表头数据</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> tabHeader = &#123;</span></span><br><span class="line"><span class="undefined">                heads: [&#123;</span></span><br><span class="line"><span class="javascript">                    name: <span class="string">'name'</span>,</span></span><br><span class="line"><span class="javascript">                    label: <span class="string">'姓名'</span>,</span></span><br><span class="line"><span class="javascript">                    sortable: <span class="literal">false</span></span></span><br><span class="line"><span class="undefined">                &#125;, &#123;</span></span><br><span class="line"><span class="javascript">                    name: <span class="string">'chinese'</span>,</span></span><br><span class="line"><span class="javascript">                    label: <span class="string">'语文'</span>,</span></span><br><span class="line"><span class="javascript">                    sortable: <span class="literal">true</span></span></span><br><span class="line"><span class="undefined">                &#125;, &#123;</span></span><br><span class="line"><span class="javascript">                    name: <span class="string">'math'</span>,</span></span><br><span class="line"><span class="javascript">                    label: <span class="string">'数学'</span>,</span></span><br><span class="line"><span class="javascript">                    sortable: <span class="literal">true</span></span></span><br><span class="line"><span class="undefined">                &#125;, &#123;</span></span><br><span class="line"><span class="javascript">                    name: <span class="string">'english'</span>,</span></span><br><span class="line"><span class="javascript">                    label: <span class="string">'英语'</span>,</span></span><br><span class="line"><span class="javascript">                    sortable: <span class="literal">true</span></span></span><br><span class="line"><span class="undefined">                &#125;, &#123;</span></span><br><span class="line"><span class="javascript">                    name: <span class="string">'total'</span>,</span></span><br><span class="line"><span class="javascript">                    label: <span class="string">'总分'</span>,</span></span><br><span class="line"><span class="javascript">                    sortable: <span class="literal">true</span></span></span><br><span class="line"><span class="undefined">                &#125;]</span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//表格内容数据</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> datas = [</span></span><br><span class="line"><span class="undefined">                &#123;</span></span><br><span class="line"><span class="javascript">                    name: <span class="string">'小明'</span>,</span></span><br><span class="line"><span class="undefined">                    chinese: 90,</span></span><br><span class="line"><span class="undefined">                    math: 100,</span></span><br><span class="line"><span class="undefined">                    english: 70,</span></span><br><span class="line"><span class="undefined">                    total: 260</span></span><br><span class="line"><span class="undefined">                &#125;,</span></span><br><span class="line"><span class="undefined">                &#123;</span></span><br><span class="line"><span class="javascript">                    name: <span class="string">'小花'</span>,</span></span><br><span class="line"><span class="undefined">                    chinese: 90,</span></span><br><span class="line"><span class="undefined">                    math: 70,</span></span><br><span class="line"><span class="undefined">                    english: 80,</span></span><br><span class="line"><span class="undefined">                    total: 240</span></span><br><span class="line"><span class="undefined">                &#125;,</span></span><br><span class="line"><span class="undefined">                &#123;</span></span><br><span class="line"><span class="javascript">                    name: <span class="string">'小红'</span>,</span></span><br><span class="line"><span class="undefined">                    chinese: 70,</span></span><br><span class="line"><span class="undefined">                    math: 90,</span></span><br><span class="line"><span class="undefined">                    english: 70,</span></span><br><span class="line"><span class="undefined">                    total: 230</span></span><br><span class="line"><span class="undefined">                &#125;,</span></span><br><span class="line"><span class="undefined">                &#123;</span></span><br><span class="line"><span class="javascript">                    name: <span class="string">'小桃'</span>,</span></span><br><span class="line"><span class="undefined">                    chinese: 60,</span></span><br><span class="line"><span class="undefined">                    math: 100,</span></span><br><span class="line"><span class="undefined">                    english: 90,</span></span><br><span class="line"><span class="undefined">                    total: 250</span></span><br><span class="line"><span class="undefined">                &#125;,</span></span><br><span class="line"><span class="undefined">                &#123;</span></span><br><span class="line"><span class="javascript">                    name: <span class="string">'小张'</span>,</span></span><br><span class="line"><span class="undefined">                    chinese: 80,</span></span><br><span class="line"><span class="undefined">                    math: 80,</span></span><br><span class="line"><span class="undefined">                    english: 70,</span></span><br><span class="line"><span class="undefined">                    total: 230</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            ];</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">//获取容器元素</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> tabHead = tabHeader.heads;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> dataLen = datas.length;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//创建table</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> table = <span class="built_in">document</span>.createElement(<span class="string">"table"</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">$</span>(<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> <span class="built_in">document</span>.querySelector(e);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            /*添加样式</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">addStyle</span>(<span class="params">id, el, style</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">let</span> els = $(id).getElementsByTagName(el);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span> (els.length === <span class="number">1</span>) &#123;</span></span><br><span class="line"><span class="undefined">                    els[0].style.cssText = style;</span></span><br><span class="line"><span class="javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; els.length; i++) &#123;</span></span><br><span class="line"><span class="undefined">                        els[i].style.cssText = style;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">//生成表头</span></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">addThead</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//添加thead标签</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">let</span> tHead = <span class="built_in">document</span>.createElement(<span class="string">"thead"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">let</span> trNode = addTr();</span></span><br><span class="line"><span class="javascript">                <span class="comment">//遍历表头内容生成表头，增加按钮</span></span></span><br><span class="line"><span class="javascript">                tabHead.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">head</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">let</span> tds = addTd(head.label);</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span> (head.sortable)&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">let</span> value = head.name;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                        <span class="comment">//添加升序按钮</span></span></span><br><span class="line"><span class="javascript">                        <span class="keyword">let</span> upBtn = <span class="built_in">document</span>.createElement(<span class="string">"span"</span>);</span></span><br><span class="line"><span class="undefined">                        tds.appendChild(upBtn);</span></span><br><span class="line"><span class="javascript">                        upBtn.onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="undefined">                            upButton(value);</span></span><br><span class="line"><span class="undefined">                        &#125;;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                        <span class="comment">//添加降序按钮</span></span></span><br><span class="line"><span class="javascript">                        <span class="keyword">let</span> downBtn = <span class="built_in">document</span>.createElement(<span class="string">"b"</span>);</span></span><br><span class="line"><span class="undefined">                        tds.appendChild(downBtn);</span></span><br><span class="line"><span class="javascript">                        downBtn.onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="undefined">                            downButton(value);</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="javascript">                    trNode.appendChild(tds);<span class="comment">//生成td</span></span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="undefined">                tHead.appendChild(trNode);</span></span><br><span class="line"><span class="undefined">                table.appendChild(tHead);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">//生成表格内容</span></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">addTbody</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">let</span> tbody = <span class="built_in">document</span>.createElement(<span class="string">"tbody"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; dataLen; i ++)&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">let</span> trNode = addTr();</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> datas[i])&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">let</span> tdValue = addTd(datas[i][key]);</span></span><br><span class="line"><span class="undefined">                        trNode.appendChild(tdValue);</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                    tbody.appendChild(trNode);</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">                table.appendChild(tbody);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">//生成tr</span></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">addTr</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">let</span> trNode = <span class="built_in">document</span>.createElement(<span class="string">"tr"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> trNode;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//生成td</span></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">addTd</span>(<span class="params">value</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">let</span> tdNode = <span class="built_in">document</span>.createElement(<span class="string">"td"</span>);</span></span><br><span class="line"><span class="undefined">                tdNode.innerText = value;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> tdNode;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">//升序按钮</span></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">upButton</span>(<span class="params">value</span>) </span>&#123;</span></span><br><span class="line"><span class="undefined">                sortAsc(value);</span></span><br><span class="line"><span class="javascript">                table.innerHTML = <span class="string">""</span>;</span></span><br><span class="line"><span class="undefined">                init();</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">//降序按钮</span></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">downButton</span>(<span class="params">value</span>) </span>&#123;</span></span><br><span class="line"><span class="undefined">                sortDesc(value);</span></span><br><span class="line"><span class="javascript">                table.innerHTML = <span class="string">""</span>;</span></span><br><span class="line"><span class="undefined">                init();</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">//升序</span></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">sortAsc</span>(<span class="params">value</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">let</span> sort = <span class="function"><span class="keyword">function</span> (<span class="params">a,b</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> a[value] - b[value];</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> datas.sort(sort);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">//降序</span></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">sortDesc</span>(<span class="params">value</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">let</span> sort = <span class="function"><span class="keyword">function</span> (<span class="params">a,b</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> b[value] - a[value];</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> datas.sort(sort);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">               $(<span class="string">"#wrapper"</span>).appendChild(table);</span></span><br><span class="line"><span class="undefined">               addThead();</span></span><br><span class="line"><span class="undefined">               addTbody();</span></span><br><span class="line"><span class="javascript">                <span class="comment">//添加样式</span></span></span><br><span class="line"><span class="javascript">                $(<span class="string">"#wrapper"</span>).style.cssText = wrapperStyle;</span></span><br><span class="line"><span class="javascript">                addStyle(<span class="string">"#wrapper"</span>, <span class="string">"table"</span>, tableStyle);</span></span><br><span class="line"><span class="javascript">                addStyle(<span class="string">"#wrapper"</span>,<span class="string">"thead"</span>,theadStyle);</span></span><br><span class="line"><span class="javascript">                addStyle(<span class="string">"#wrapper"</span>, <span class="string">"td"</span>, tdStyle);</span></span><br><span class="line"><span class="javascript">                addStyle(<span class="string">"#wrapper"</span>,<span class="string">"span"</span>,upBtnStyle);</span></span><br><span class="line"><span class="javascript">                addStyle(<span class="string">"#wrapper"</span>,<span class="string">"b"</span>,downBtnStyle);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            init();</span></span><br><span class="line"><span class="undefined">        &#125;())</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><em>Demo如下：</em></p><script>    window.onload = function () {        (function () {            //外部元素样式            const wrapperStyle = "position:relative;" +                "font-size:12px;" +                "color:#fd6ba6;" +                "width:auto;" +                "height:auto;" +                "margin:10px;";            //表格样式            const tableStyle = "border-collapse:collapse;" +                "border-spacing:0;";            //表格thead样式            const theadStyle = "background:#fd6ba6;" +                "color:#ffffff;";            //表格td样式            const tdStyle = "width:80px;" +                "height:30px;" +                "text-align:center;" +                "padding:1px;" +                "margin:0;" +                "border:1px solid #ff9dc6;";            //ubBtnStyle            const upBtnStyle = "position: relative;" +                "left:10px;" +                "top: -7px;" +                "display: inline-block;" +                "width:0;" +                "height:0;" +                "border-bottom:10px solid #fff;" +       /*设置并显示上边框*/                "border-top:none;" +                     /*不设置下边框*/                "border-left:10px solid transparent;" +  /*设置但隐藏左边框*/                "border-right:10px solid transparent;";  /*设置但隐藏右边框*/            //downBtnStyle            const downBtnStyle = "position: relative;" +                "left:-10px;" +                "bottom: -7px;" +                "display: inline-block;" +                "width:0;" +                "height:0;" +                "border-top:10px solid #fff;" +          /*设置并显示上边框*/                "border-bottom:none;" +                  /*不设置下边框*/                "border-left:10px solid transparent;" +  /*设置但隐藏左边框*/                "border-right:10px solid transparent;";  /*设置但隐藏右边框*/            //表头数据            const tabHeader = {                heads: [{                    name: 'name',                    label: '姓名',                    sortable: false                }, {                    name: 'chinese',                    label: '语文',                    sortable: true                }, {                    name: 'math',                    label: '数学',                    sortable: true                }, {                    name: 'english',                    label: '英语',                    sortable: true                }, {                    name: 'total',                    label: '总分',                    sortable: true                }]            };            //表格内容数据            const datas = [                {                    name: '小明',                    chinese: 90,                    math: 100,                    english: 70,                    total: 260                },                {                    name: '小花',                    chinese: 90,                    math: 70,                    english: 80,                    total: 240                },                {                    name: '小红',                    chinese: 70,                    math: 90,                    english: 70,                    total: 230                },                {                    name: '小桃',                    chinese: 60,                    math: 100,                    english: 90,                    total: 250                },                {                    name: '小张',                    chinese: 80,                    math: 80,                    english: 70,                    total: 230                }            ];            //获取容器元素            const tabHead = tabHeader.heads;            const dataLen = datas.length;            //创建table            const table = document.createElement("table");            function $(e) {                return document.querySelector(e);            }            /*添加样式                     */            function addStyle(id, el, style) {                let els = $(id).getElementsByTagName(el);                if (els.length === 1) {                    els[0].style.cssText = style;                } else {                    for (let i = 0; i < els.length; i++) {                        els[i].style.cssText = style;                    }                }            }            //生成表头            function addThead() {                //添加thead标签                let tHead = document.createElement("thead");                let trNode = addTr();                //遍历表头内容生成表头，增加按钮                tabHead.forEach(function (head) {                    let tds = addTd(head.label);                    if (head.sortable){                        let value = head.name;                        //添加升序按钮                        let upBtn = document.createElement("span");                        tds.appendChild(upBtn);                        upBtn.onclick = function () {                            upButton(value);                        };                        //添加降序按钮                        let downBtn = document.createElement("b");                        tds.appendChild(downBtn);                        downBtn.onclick = function () {                            downButton(value);                        }                    }                    trNode.appendChild(tds);//生成td                });                tHead.appendChild(trNode);                table.appendChild(tHead);            }            //生成表格内容            function addTbody() {                let tbody = document.createElement("tbody");                for(let i = 0; i < dataLen; i ++){                    let trNode = addTr();                    for (let key in datas[i]){                        let tdValue = addTd(datas[i][key]);                        trNode.appendChild(tdValue);                    }                    tbody.appendChild(trNode);                }                table.appendChild(tbody);            }            //生成tr            function addTr() {                let trNode = document.createElement("tr");                return trNode;            }            //生成td            function addTd(value) {                let tdNode = document.createElement("td");                tdNode.innerText = value;                return tdNode;            }            //升序按钮            function upButton(value) {                sortAsc(value);                table.innerHTML = "";                init();            }            //降序按钮            function downButton(value) {                sortDesc(value);                table.innerHTML = "";                init();            }            //升序            function sortAsc(value) {                let sort = function (a,b) {                    return a[value] - b[value];                };                return datas.sort(sort);            }            //降序            function sortDesc(value) {                let sort = function (a,b) {                    return b[value] - a[value];                };                return datas.sort(sort);            }            function init() {               $("#wrapper").appendChild(table);               addThead();               addTbody();                //添加样式                $("#wrapper").style.cssText = wrapperStyle;                addStyle("#wrapper", "table", tableStyle);                addStyle("#wrapper","thead",theadStyle);                addStyle("#wrapper", "td", tdStyle);                addStyle("#wrapper","span",upBtnStyle);                addStyle("#wrapper","b",downBtnStyle);            }            init();        }())    }</script><div id="wrapper"></div>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;任务七：UI组件之排序表格&quot;&gt;&lt;a href=&quot;#任务七：UI组件之排序表格&quot; class=&quot;headerlink&quot; title=&quot;任务七：UI组件之排序表格&quot;&gt;&lt;/a&gt;任务七：UI组件之排序表格&lt;/h1&gt;&lt;h2 id=&quot;任务目的&quot;&gt;&lt;a href=&quot;#任务目的&quot; class=&quot;headerlink&quot; title=&quot;任务目的&quot;&gt;&lt;/a&gt;任务目的&lt;/h2&gt;&lt;p&gt;练习综合运用HTML、CSS、JavaScript实现局部功能&lt;br&gt;练习对于代码的抽象与封装&lt;br&gt;为第四阶段的RIA任务做准备&lt;/p&gt;
&lt;h2 id=&quot;任务描述&quot;&gt;&lt;a href=&quot;#任务描述&quot; class=&quot;headerlink&quot; title=&quot;任务描述&quot;&gt;&lt;/a&gt;任务描述&lt;/h2&gt;&lt;p&gt;参考下方设计图，实现一个支持列排序的表格组件&lt;br&gt;提供生成表格的接口，表格中的数据，表格样式尽量低耦合&lt;br&gt;可以配置对哪些列支持排序功能，并在表头进行排序按钮的显示，图中的样式为示意参考，可自行设定样式及交互方式&lt;br&gt;提供点击排序按钮后的响应接口，并提供默认的排序方法，当提供的接口没有具体实现时，按默认的排序方法进行排序操作，并更新表格中的数据显示。&lt;/p&gt;
&lt;h2 id=&quot;任务注意事项&quot;&gt;&lt;a href=&quot;#任务注意事项&quot; class=&quot;headerlink&quot; title=&quot;任务注意事项&quot;&gt;&lt;/a&gt;任务注意事项&lt;/h2&gt;&lt;p&gt;请注意代码风格的整齐、优雅&lt;br&gt;代码中含有必要的注释&lt;br&gt;可以合理选择使用其它第三方类库，但不建议&lt;/p&gt;
    
    </summary>
    
    
      <category term="百度IFE2017" scheme="http://yoursite.com/tags/%E7%99%BE%E5%BA%A6IFE2017/"/>
    
  </entry>
  
  <entry>
    <title>获取a标签链接填充标题</title>
    <link href="http://yoursite.com/2017/12/20/js/JavaScript-013/"/>
    <id>http://yoursite.com/2017/12/20/js/JavaScript-013/</id>
    <published>2017-12-20T08:19:19.000Z</published>
    <updated>2018-02-28T03:43:14.701Z</updated>
    
    <content type="html"><![CDATA[<p>之前项目的目录页面标题和<code>&lt;a&gt;</code>标签的链接是一样的，每次弄完链接还要复制过来做标题，经常出错误，于是想着写了一个获取<code>&lt;a&gt;</code>标签的链接，做内容的方法。</p><p>注：原生方法只支持<code>IE8</code>及以上浏览器，Jquery方法无限制。</p><a id="more"></a><p><em>Jquery代码如下：</em></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Kamui on 2017/12/20.</span></span><br><span class="line"><span class="comment"> * 获取链接标题</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">innerText</span>(<span class="params">id,el</span>) </span>&#123;</span><br><span class="line">    $(id).find(el).each(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> text = $(<span class="keyword">this</span>).attr(<span class="string">"href"</span>);</span><br><span class="line">    $(<span class="keyword">this</span>).text(text);</span><br><span class="line">    &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    innerText(<span class="string">".content"</span>,<span class="string">"a"</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><em>原生代码如下：</em></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Kamui on 2017/12/20.</span></span><br><span class="line"><span class="comment"> * 获取链接标题</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">InnerText</span>(<span class="params">id,el</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> getEls = <span class="built_in">document</span>.getElementById(id).getElementsByTagName(el);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; getEls.length; i++)&#123;</span><br><span class="line">        <span class="keyword">var</span> text = getEls[i].getAttribute(<span class="string">"href"</span>);</span><br><span class="line">        <span class="comment">//console.log(text);</span></span><br><span class="line">        getEls[i].innerHTML = text;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    InnerText(<span class="string">"title-inner"</span>,<span class="string">"a"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;之前项目的目录页面标题和&lt;code&gt;&amp;lt;a&amp;gt;&lt;/code&gt;标签的链接是一样的，每次弄完链接还要复制过来做标题，经常出错误，于是想着写了一个获取&lt;code&gt;&amp;lt;a&amp;gt;&lt;/code&gt;标签的链接，做内容的方法。&lt;/p&gt;
&lt;p&gt;注：原生方法只支持&lt;code&gt;IE8&lt;/code&gt;及以上浏览器，Jquery方法无限制。&lt;/p&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>树形菜单折叠效果</title>
    <link href="http://yoursite.com/2017/11/27/js/JavaScript-012/"/>
    <id>http://yoursite.com/2017/11/27/js/JavaScript-012/</id>
    <published>2017-11-27T08:19:19.000Z</published>
    <updated>2018-02-28T03:43:14.701Z</updated>
    
    <content type="html"><![CDATA[<p>一个简单的树形菜单折叠效果，实现方法，通过控制父级与本身的class实现折叠效果。</p><a id="more"></a><p><em>代码如下：</em></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Kamui on 2017/11/27.</span></span><br><span class="line"><span class="comment"> * 树形菜单折叠效果</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">reset</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        $(<span class="string">".tree-wrap"</span>).find(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            $(<span class="string">"div"</span>).removeClass(<span class="string">"on"</span>);</span><br><span class="line">            $(<span class="string">"a"</span>).removeClass(<span class="string">"active"</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">leveStyle</span>(<span class="params">wrapId,elementId,parentsId,addClass,active</span>) </span>&#123;</span><br><span class="line">        <span class="comment">//查找遍历a标签</span></span><br><span class="line">        $(wrapId).find(elementId).each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            $(<span class="keyword">this</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="comment">//清除所有选中样式</span></span><br><span class="line">                $(parentsId).removeClass(addClass);</span><br><span class="line">                $(elementId).removeClass(active);</span><br><span class="line">                <span class="comment">//父级增加on(显示)</span></span><br><span class="line">                $(<span class="keyword">this</span>).parents().addClass(addClass);</span><br><span class="line">                <span class="comment">//为自己增加active(选中)</span></span><br><span class="line">                $(<span class="keyword">this</span>).addClass(active);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    reset();</span><br><span class="line">    leveStyle(<span class="string">".tree-wrap"</span>,<span class="string">"a"</span>,<span class="string">"div"</span>,<span class="string">"on"</span>,<span class="string">"active"</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><em>Demo如下</em></p><p><a href="http://kamui1073.oschina.io/ctb-m/app/01-%E9%A6%96%E9%A1%B5.html" target="_blank">演示demo</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;一个简单的树形菜单折叠效果，实现方法，通过控制父级与本身的class实现折叠效果。&lt;/p&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>IFE JavaScript Task 2-05</title>
    <link href="http://yoursite.com/2017/10/11/ife2017/js2/Task05/"/>
    <id>http://yoursite.com/2017/10/11/ife2017/js2/Task05/</id>
    <published>2017-10-11T08:19:19.000Z</published>
    <updated>2018-02-28T03:43:14.696Z</updated>
    
    <content type="html"><![CDATA[<h1 id="任务五：听指令的小方块（二）"><a href="#任务五：听指令的小方块（二）" class="headerlink" title="任务五：听指令的小方块（二）"></a>任务五：听指令的小方块（二）</h1><h2 id="任务目的"><a href="#任务目的" class="headerlink" title="任务目的"></a>任务目的</h2><p>练习JavaScript在DOM、字符串处理相关知识<br>练习对于复杂UI，如何进行数据机构建模</p><h2 id="任务描述"><a href="#任务描述" class="headerlink" title="任务描述"></a>任务描述</h2><p>对于正方形的移动增加相应动画，包括移动和旋转<br>每个指令的执行时间是1s（可以自己调整）<br>增加新的指令如下：<br>TRA LEF：向屏幕的左侧移动一格，方向不变<br>TRA TOP：向屏幕的上面移动一格，方向不变<br>TRA RIG：向屏幕的右侧移动一格，方向不变<br>TRA BOT：向屏幕的下面移动一格，方向不变<br>MOV LEF：方向转向屏幕左侧，并向屏幕的左侧移动一格<br>MOV TOP：方向转向屏幕上面，向屏幕的上面移动一格<br>MOV RIG：方向转向屏幕右侧，向屏幕的右侧移动一格<br>MOV BOT：方向转向屏幕下面，向屏幕的下面移动一格</p><h2 id="任务注意事项"><a href="#任务注意事项" class="headerlink" title="任务注意事项"></a>任务注意事项</h2><p>实现功能的同时，请仔细学习JavaScript相关的知识<br>请注意代码风格的整齐、优雅<br>代码中含有必要的注释<br>建议不使用任何第三方库、框架</p><a id="more"></a><p><em>代码如下：</em></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>IFE JavaScript Task 2 - 05<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"wrapper"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"buttons"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:void(0);"</span>&gt;</span>Go<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:void(0);"</span>&gt;</span>TunLeft<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:void(0);"</span>&gt;</span>TunRight<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:void(0);"</span>&gt;</span>TunBac<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:void(0);"</span>&gt;</span>MovLeft<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:void(0);"</span>&gt;</span>MovRight<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:void(0);"</span>&gt;</span>MovTop<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:void(0);"</span>&gt;</span>MovBottom<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//外部元素样式</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> wrapperStyle = <span class="string">"position:relative;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"width:331px;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"height:331px;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"margin:10px;"</span>;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//表格样式</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> tableStyle = <span class="string">"border-collapse:collapse;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"border-spacing:0;"</span>;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//表格td样式</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> tdStyle = <span class="string">"width:30px;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"height:30px;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"padding:1px;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"margin:0;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"border:1px solid #cccccc;"</span>;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//方块样式</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> blockStyle = <span class="string">"position:absolute;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"width:33px;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"height:28px;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"left:0px;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"top:0px;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"transition: all .5s;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"background:#75e5ff;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"border-bottom:5px solid #f15555;"</span>;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//按钮外部元素样式</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> buttonsWrapStyle = <span class="string">"padding:0 10px;"</span>;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//按钮样式</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> buttonsStyle = <span class="string">"display: inline-block;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"background:#ffffff;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"color:#fd6ba6;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"font-size:12px;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"text-decoration:none;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"line-height:normal;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"border:1px solid #fd6ba6;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"border-radius:3px;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"padding: 6px 10px;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"margin:0px 5px 5px 0;"</span>;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//按钮hover样式</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> buttonsHoverStyle = <span class="string">"display: inline-block;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"background:#fd6ba6;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"color:#ffffff;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"font-size:12px;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"text-decoration:none;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"line-height:normal;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"-webkit-transition: all 0.28s ease;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"transition: all 0.28s ease;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"border-radius:3px;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"border:1px solid #fd6ba6;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"padding: 6px 10px;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"margin:0px 5px 5px 0;"</span>;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//获取按钮</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> getButtons = <span class="built_in">document</span>.getElementById(<span class="string">"buttons"</span>);</span></span><br><span class="line"><span class="javascript">            <span class="comment">//获取容器元素</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> getWrapper = $(<span class="string">"#wrapper"</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">//初始角度</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> blockDeg = <span class="number">0</span>;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">$</span>(<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> <span class="built_in">document</span>.querySelector(e);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            /*添加样式</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">addStyle</span>(<span class="params">id, el, style</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">let</span> els = $(id).getElementsByTagName(el);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span> (els.length === <span class="number">1</span>) &#123;</span></span><br><span class="line"><span class="undefined">                    els[0].style.cssText = style;</span></span><br><span class="line"><span class="javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; els.length; i++) &#123;</span></span><br><span class="line"><span class="undefined">                        els[i].style.cssText = style;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">//按钮增加hover样式</span></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">buttonHover</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                getButtons.addEventListener(<span class="string">"mouseover"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span> (event.target.nodeName === <span class="string">"A"</span>) &#123;</span></span><br><span class="line"><span class="javascript">                        event.target.style.cssText = buttonsHoverStyle;<span class="comment">//为按钮增加样式</span></span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="javascript">                getButtons.addEventListener(<span class="string">"mouseout"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span> (event.target.nodeName === <span class="string">"A"</span>) &#123;</span></span><br><span class="line"><span class="javascript">                        event.target.style.cssText = buttonsStyle;<span class="comment">//为按钮增加样式</span></span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">createTable</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//创建table</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">const</span> _table = <span class="built_in">document</span>.createElement(<span class="string">"table"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">//创建tbody</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">const</span> _tbody = <span class="built_in">document</span>.createElement(<span class="string">"tbody"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">//获取table父元素 生成table</span></span></span><br><span class="line"><span class="undefined">                getWrapper.appendChild(_table);</span></span><br><span class="line"><span class="javascript">                <span class="comment">//获取table 生成tbdoy</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">const</span> getTable = getWrapper.getElementsByTagName(<span class="string">"table"</span>);</span></span><br><span class="line"><span class="undefined">                getTable[0].appendChild(_tbody);</span></span><br><span class="line"><span class="javascript">                <span class="comment">//获取tbody</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">const</span> getTbody = getWrapper.getElementsByTagName(<span class="string">"tbody"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">let</span> _tr = [];</span></span><br><span class="line"><span class="javascript">                    _tr[i] = <span class="built_in">document</span>.createElement(<span class="string">"tr"</span>);</span></span><br><span class="line"><span class="javascript">                    <span class="comment">//生成tr</span></span></span><br><span class="line"><span class="undefined">                    getTbody[0].appendChild(_tr[i]);</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; <span class="number">10</span>; j++) &#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">//获取tr 生成td</span></span></span><br><span class="line"><span class="javascript">                        <span class="keyword">let</span> getTr = getTbody[<span class="number">0</span>].getElementsByTagName(<span class="string">"tr"</span>);</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">let</span> _td = [];</span></span><br><span class="line"><span class="javascript">                        _td[j] = <span class="built_in">document</span>.createElement(<span class="string">"td"</span>);</span></span><br><span class="line"><span class="undefined">                        _tr[i].appendChild(_td[j]);</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">//创建方块</span></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">createBlock</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">const</span> _block = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</span></span><br><span class="line"><span class="javascript">                getWrapper.appendChild(_block).id = <span class="string">"block"</span>;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">//移动</span></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">Go</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//获取block</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">const</span> getBlock = $(<span class="string">"#block"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">//获取block边距</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">const</span> collTop = getBlock.offsetTop;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">const</span> collLeft = getBlock.offsetLeft;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//获取block高度</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">const</span> BlockHeight = getBlock.offsetHeight;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//获取容器高度与宽度</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">const</span> wrapHeight = getWrapper.offsetHeight - BlockHeight * <span class="number">2</span>;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="keyword">let</span> _blockDeg = blockDeg;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="comment">//如果角度是负值，取正</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">while</span> (_blockDeg &lt; <span class="number">0</span>) &#123;</span></span><br><span class="line"><span class="undefined">                    _blockDeg = _blockDeg + 360;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span> (_blockDeg % <span class="number">360</span> === <span class="number">270</span> &amp;&amp; collLeft &lt; wrapHeight) &#123;<span class="comment">//右移</span></span></span><br><span class="line"><span class="javascript">                    getBlock.style.left = collLeft + BlockHeight + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(<span class="string">"右移"</span>);</span></span><br><span class="line"><span class="javascript">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (_blockDeg % <span class="number">360</span> === <span class="number">0</span> &amp;&amp; collTop &lt; wrapHeight) &#123;<span class="comment">//下移</span></span></span><br><span class="line"><span class="javascript">                    getBlock.style.top = collTop + BlockHeight + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(<span class="string">"下移"</span>);</span></span><br><span class="line"><span class="javascript">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (_blockDeg % <span class="number">360</span> === <span class="number">90</span> &amp;&amp; collLeft &gt; <span class="number">0</span>) &#123;<span class="comment">//左移</span></span></span><br><span class="line"><span class="javascript">                    getBlock.style.left = (collLeft - BlockHeight) + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(<span class="string">"左移"</span>);</span></span><br><span class="line"><span class="javascript">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (_blockDeg % <span class="number">360</span> === <span class="number">180</span> &amp;&amp; collTop &gt; <span class="number">0</span>) &#123;<span class="comment">//上移</span></span></span><br><span class="line"><span class="javascript">                    getBlock.style.top = (collTop - BlockHeight) + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(<span class="string">"上移"</span>);</span></span><br><span class="line"><span class="javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                    setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                        alert(<span class="string">"不能超过边界！"</span>);</span></span><br><span class="line"><span class="undefined">                    &#125;, 200)</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">//旋转并移动</span></span></span><br><span class="line"><span class="javascript">             <span class="function"><span class="keyword">function</span> <span class="title">GoTo</span> (<span class="params">n</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//获取block</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">const</span> getBlock = $(<span class="string">"#block"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">//获取block边距</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">const</span> collTop = getBlock.offsetTop;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">const</span> collLeft = getBlock.offsetLeft;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//获取block高度</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">const</span> BlockHeight = getBlock.offsetHeight;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//获取容器高度与宽度</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">const</span> wrapHeight = getWrapper.offsetHeight - BlockHeight * <span class="number">2</span>;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">switch</span> (n)&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">case</span> <span class="string">"left"</span> :</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">if</span> (collLeft &gt; <span class="number">0</span>) &#123;<span class="comment">//左移</span></span></span><br><span class="line"><span class="javascript">                            getBlock.style.left = (collLeft - BlockHeight) + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="javascript">                            <span class="built_in">console</span>.log(<span class="string">"左移"</span>);</span></span><br><span class="line"><span class="javascript">                        &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                            setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                                alert(<span class="string">"不能超过边界！"</span>);</span></span><br><span class="line"><span class="undefined">                            &#125;, 200)</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">break</span>;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">case</span> <span class="string">"right"</span> :</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">if</span> (collLeft &lt; wrapHeight) &#123;<span class="comment">//右移</span></span></span><br><span class="line"><span class="javascript">                            getBlock.style.left = collLeft + BlockHeight + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="javascript">                            <span class="built_in">console</span>.log(<span class="string">"右移"</span>);</span></span><br><span class="line"><span class="javascript">                        &#125;<span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                            setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                                alert(<span class="string">"不能超过边界！"</span>);</span></span><br><span class="line"><span class="undefined">                            &#125;, 200)</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">break</span>;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">case</span> <span class="string">"top"</span> :</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">if</span> (collTop &gt; <span class="number">0</span>) &#123;<span class="comment">//上移</span></span></span><br><span class="line"><span class="javascript">                            getBlock.style.top = (collTop - BlockHeight) + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="javascript">                            <span class="built_in">console</span>.log(<span class="string">"上移"</span>);</span></span><br><span class="line"><span class="javascript">                        &#125;<span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                            setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                                alert(<span class="string">"不能超过边界！"</span>);</span></span><br><span class="line"><span class="undefined">                            &#125;, 200)</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">break</span>;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">case</span> <span class="string">"bottom"</span> :</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">if</span> (collTop &lt; wrapHeight) &#123;<span class="comment">//下移</span></span></span><br><span class="line"><span class="javascript">                            getBlock.style.top = collTop + BlockHeight + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="javascript">                            <span class="built_in">console</span>.log(<span class="string">"下移"</span>);</span></span><br><span class="line"><span class="javascript">                        &#125;<span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                            setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                                alert(<span class="string">"不能超过边界！"</span>);</span></span><br><span class="line"><span class="undefined">                            &#125;, 200)</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">break</span>;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//旋转并移动函数</span></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">moveTo</span>(<span class="params">direction,angle</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">let</span> getBlock = $(<span class="string">"#block"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(getBlock.style.transform === <span class="string">"rotate("</span> + angle + <span class="string">"deg)"</span>)&#123;</span></span><br><span class="line"><span class="undefined">                    GoTo(direction);</span></span><br><span class="line"><span class="javascript">                &#125;<span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                    getBlock.style.transform = <span class="string">"rotate("</span> + angle + <span class="string">"deg)"</span>;</span></span><br><span class="line"><span class="undefined">                    GoTo(direction);</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">//block旋转</span></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">tun</span>(<span class="params">deg, b</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//获取block</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">const</span> getBlock = $(<span class="string">"#block"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span> (b === <span class="literal">true</span>) &#123;</span></span><br><span class="line"><span class="undefined">                    blockDeg = blockDeg - deg;</span></span><br><span class="line"><span class="javascript">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (b === <span class="literal">false</span>) &#123;</span></span><br><span class="line"><span class="undefined">                    blockDeg = blockDeg + deg;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="javascript">                getBlock.style.transform = <span class="string">"rotate("</span> + blockDeg + <span class="string">"Deg)"</span>;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">//绑定事件</span></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">addListener</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                getButtons.addEventListener(<span class="string">"click"</span>, event =&gt; &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span> (event.target.innerHTML === <span class="string">"Go"</span>) &#123;</span></span><br><span class="line"><span class="undefined">                        Go();</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span> (event.target.innerHTML === <span class="string">"TunLeft"</span>) &#123;</span></span><br><span class="line"><span class="javascript">                        tun(<span class="number">90</span>, <span class="literal">true</span>);</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span> (event.target.innerHTML === <span class="string">"TunRight"</span>) &#123;</span></span><br><span class="line"><span class="javascript">                        tun(<span class="number">90</span>, <span class="literal">false</span>);</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span> (event.target.innerHTML === <span class="string">"TunBac"</span>) &#123;</span></span><br><span class="line"><span class="javascript">                        tun(<span class="number">180</span>, <span class="literal">false</span>);</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">//旋转并移动</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span> (event.target.innerHTML === <span class="string">"MovLeft"</span>) &#123;</span></span><br><span class="line"><span class="javascript">                        moveTo(<span class="string">"left"</span>,<span class="number">90</span>);</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span> (event.target.innerHTML === <span class="string">"MovRight"</span>) &#123;</span></span><br><span class="line"><span class="javascript">                        moveTo(<span class="string">"right"</span>,<span class="number">-90</span>);</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span> (event.target.innerHTML === <span class="string">"MovTop"</span>) &#123;</span></span><br><span class="line"><span class="javascript">                        moveTo(<span class="string">"top"</span>,<span class="number">180</span>);</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span> (event.target.innerHTML === <span class="string">"MovBottom"</span>) &#123;</span></span><br><span class="line"><span class="javascript">                        moveTo(<span class="string">"bottom"</span>,<span class="number">0</span>);</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;)</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="undefined">                createTable();</span></span><br><span class="line"><span class="undefined">                createBlock();</span></span><br><span class="line"><span class="javascript">                <span class="comment">//添加样式</span></span></span><br><span class="line"><span class="javascript">                $(<span class="string">"#wrapper"</span>).style.cssText = wrapperStyle;</span></span><br><span class="line"><span class="undefined">                getButtons.style.cssText = buttonsWrapStyle;</span></span><br><span class="line"><span class="javascript">                addStyle(<span class="string">"#wrapper"</span>, <span class="string">"table"</span>, tableStyle);</span></span><br><span class="line"><span class="javascript">                addStyle(<span class="string">"#wrapper"</span>, <span class="string">"td"</span>, tdStyle);</span></span><br><span class="line"><span class="javascript">                addStyle(<span class="string">"#wrapper"</span>, <span class="string">"div"</span>, blockStyle);</span></span><br><span class="line"><span class="javascript">                addStyle(<span class="string">"#buttons"</span>, <span class="string">"a"</span>, buttonsStyle);</span></span><br><span class="line"><span class="undefined">                buttonHover();</span></span><br><span class="line"><span class="undefined">                addListener();</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            init();</span></span><br><span class="line"><span class="undefined">        &#125;())</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><em>Demo如下：</em></p><script>    window.onload = function () {        (function () {            //外部元素样式            const wrapperStyle = "position:relative;" +                "width:331px;" +                "height:331px;" +                "margin:10px;";            //表格样式            const tableStyle = "border-collapse:collapse;" +                "border-spacing:0;";            //表格td样式            const tdStyle = "width:30px;" +                "height:30px;" +                "padding:1px;" +                "margin:0;" +                "border:1px solid #cccccc;";            //方块样式            const blockStyle = "position:absolute;" +                "width:33px;" +                "height:28px;" +                "left:0px;" +                "top:0px;" +                "transition: all .5s;" +                "background:#75e5ff;" +                "border-bottom:5px solid #f15555;";            //按钮外部元素样式            const buttonsWrapStyle = "padding:0 10px;";            //按钮样式            const buttonsStyle = "display: inline-block;" +                "background:#ffffff;" +                "color:#fd6ba6;" +                "font-size:12px;" +                "text-decoration:none;" +                "line-height:normal;" +                "border:1px solid #fd6ba6;" +                "border-radius:3px;" +                "padding: 6px 10px;" +                "margin:0px 5px 5px 0;";            //按钮hover样式            const buttonsHoverStyle = "display: inline-block;" +                "background:#fd6ba6;" +                "color:#ffffff;" +                "font-size:12px;" +                "text-decoration:none;" +                "line-height:normal;" +                "-webkit-transition: all 0.28s ease;" +                "transition: all 0.28s ease;" +                "border-radius:3px;" +                "border:1px solid #fd6ba6;" +                "padding: 6px 10px;" +                "margin:0px 5px 5px 0;";            //获取按钮            const getButtons = document.getElementById("buttons");            //获取容器元素            const getWrapper = $("#wrapper");            //初始角度            var blockDeg = 0;            function $(e) {                return document.querySelector(e);            }            /*添加样式                     */            function addStyle(id, el, style) {                let els = $(id).getElementsByTagName(el);                if (els.length === 1) {                    els[0].style.cssText = style;                } else {                    for (let i = 0; i < els.length; i++) {                        els[i].style.cssText = style;                    }                }            }            //按钮增加hover样式            function buttonHover() {                getButtons.addEventListener("mouseover", function (event) {                    if (event.target.nodeName === "A") {                        event.target.style.cssText = buttonsHoverStyle;//为按钮增加样式                    }                });                getButtons.addEventListener("mouseout", function (event) {                    if (event.target.nodeName === "A") {                        event.target.style.cssText = buttonsStyle;//为按钮增加样式                    }                });            }            function createTable() {                //创建table                const _table = document.createElement("table");                //创建tbody                const _tbody = document.createElement("tbody");                //获取table父元素 生成table                getWrapper.appendChild(_table);                //获取table 生成tbdoy                const getTable = getWrapper.getElementsByTagName("table");                getTable[0].appendChild(_tbody);                //获取tbody                const getTbody = getWrapper.getElementsByTagName("tbody");                for (let i = 0; i < 10; i++) {                    let _tr = [];                    _tr[i] = document.createElement("tr");                    //生成tr                    getTbody[0].appendChild(_tr[i]);                    for (let j = 0; j < 10; j++) {                        //获取tr 生成td                        let getTr = getTbody[0].getElementsByTagName("tr");                        let _td = [];                        _td[j] = document.createElement("td");                        _tr[i].appendChild(_td[j]);                    }                }            }            //创建方块            function createBlock() {                const _block = document.createElement("div");                getWrapper.appendChild(_block).id = "block";            }            //移动            function Go() {                //获取block                const getBlock = $("#block");                //获取block边距                const collTop = getBlock.offsetTop;                const collLeft = getBlock.offsetLeft;                //获取block高度                const BlockHeight = getBlock.offsetHeight;                //获取容器高度与宽度                const wrapHeight = getWrapper.offsetHeight - BlockHeight * 2;                let _blockDeg = blockDeg;                //如果角度是负值，取正                while (_blockDeg < 0) {                    _blockDeg = _blockDeg + 360;                }                if (_blockDeg % 360 === 270 && collLeft < wrapHeight) {//右移                    getBlock.style.left = collLeft + BlockHeight + "px";                    console.log("右移");                } else if (_blockDeg % 360 === 0 && collTop < wrapHeight) {//下移                    getBlock.style.top = collTop + BlockHeight + "px";                    console.log("下移");                } else if (_blockDeg % 360 === 90 && collLeft > 0) {//左移                    getBlock.style.left = (collLeft - BlockHeight) + "px";                    console.log("左移");                } else if (_blockDeg % 360 === 180 && collTop > 0) {//上移                    getBlock.style.top = (collTop - BlockHeight) + "px";                    console.log("上移");                } else {                    setTimeout(function () {                        alert("不能超过边界！");                    }, 200)                }            }            //旋转并移动             function GoTo (n){                //获取block                const getBlock = $("#block");                //获取block边距                const collTop = getBlock.offsetTop;                const collLeft = getBlock.offsetLeft;                //获取block高度                const BlockHeight = getBlock.offsetHeight;                //获取容器高度与宽度                const wrapHeight = getWrapper.offsetHeight - BlockHeight * 2;                switch (n){                    case "left" :                        if (collLeft > 0) {//左移                            getBlock.style.left = (collLeft - BlockHeight) + "px";                            console.log("左移");                        } else {                            setTimeout(function () {                                alert("不能超过边界！");                            }, 200)                        }                        break;                    case "right" :                        if (collLeft < wrapHeight) {//右移                            getBlock.style.left = collLeft + BlockHeight + "px";                            console.log("右移");                        }else {                            setTimeout(function () {                                alert("不能超过边界！");                            }, 200)                        }                        break;                    case "top" :                        if (collTop > 0) {//上移                            getBlock.style.top = (collTop - BlockHeight) + "px";                            console.log("上移");                        }else {                            setTimeout(function () {                                alert("不能超过边界！");                            }, 200)                        }                        break;                    case "bottom" :                        if (collTop < wrapHeight) {//下移                            getBlock.style.top = collTop + BlockHeight + "px";                            console.log("下移");                        }else {                            setTimeout(function () {                                alert("不能超过边界！");                            }, 200)                        }                        break;                }            }            //旋转并移动函数            function moveTo(direction,angle) {                let getBlock = $("#block");                if(getBlock.style.transform === "rotate(" + angle + "deg)"){                    GoTo(direction);                }else {                    getBlock.style.transform = "rotate(" + angle + "deg)";                    GoTo(direction);                }            }            //block旋转            function tun(deg, b) {                //获取block                const getBlock = $("#block");                if (b === true) {                    blockDeg = blockDeg - deg;                } else if (b === false) {                    blockDeg = blockDeg + deg;                }                getBlock.style.transform = "rotate(" + blockDeg + "Deg)";            }            //绑定事件            function addListener() {                getButtons.addEventListener("click", event => {                    if (event.target.innerHTML === "Go") {                        Go();                    }                    if (event.target.innerHTML === "TunLeft") {                        tun(90, true);                    }                    if (event.target.innerHTML === "TunRight") {                        tun(90, false);                    }                    if (event.target.innerHTML === "TunBac") {                        tun(180, false);                    }                    //旋转并移动                    if (event.target.innerHTML === "MovLeft") {                        moveTo("left",90);                    }                    if (event.target.innerHTML === "MovRight") {                        moveTo("right",-90);                    }                    if (event.target.innerHTML === "MovTop") {                        moveTo("top",180);                    }                    if (event.target.innerHTML === "MovBottom") {                        moveTo("bottom",0);                    }                })            }            function init() {                createTable();                createBlock();                //添加样式                $("#wrapper").style.cssText = wrapperStyle;                getButtons.style.cssText = buttonsWrapStyle;                addStyle("#wrapper", "table", tableStyle);                addStyle("#wrapper", "td", tdStyle);                addStyle("#wrapper", "div", blockStyle);                addStyle("#buttons", "a", buttonsStyle);                buttonHover();                addListener();            }            init();        }())    }</script><div id="wrapper"></div><div id="buttons"><a href="javascript:void(0);" target="_blank" rel="noopener">Go</a><a href="javascript:void(0);" target="_blank" rel="noopener">TunLeft</a><a href="javascript:void(0);" target="_blank" rel="noopener">TunRight</a><a href="javascript:void(0);" target="_blank" rel="noopener">TunBac</a><br><a href="javascript:void(0);" target="_blank" rel="noopener">MovLeft</a><a href="javascript:void(0);" target="_blank" rel="noopener">MovRight</a><a href="javascript:void(0);" target="_blank" rel="noopener">MovTop</a><a href="javascript:void(0);" target="_blank" rel="noopener">MovBottom</a></div>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;任务五：听指令的小方块（二）&quot;&gt;&lt;a href=&quot;#任务五：听指令的小方块（二）&quot; class=&quot;headerlink&quot; title=&quot;任务五：听指令的小方块（二）&quot;&gt;&lt;/a&gt;任务五：听指令的小方块（二）&lt;/h1&gt;&lt;h2 id=&quot;任务目的&quot;&gt;&lt;a href=&quot;#任务目的&quot; class=&quot;headerlink&quot; title=&quot;任务目的&quot;&gt;&lt;/a&gt;任务目的&lt;/h2&gt;&lt;p&gt;练习JavaScript在DOM、字符串处理相关知识&lt;br&gt;练习对于复杂UI，如何进行数据机构建模&lt;/p&gt;
&lt;h2 id=&quot;任务描述&quot;&gt;&lt;a href=&quot;#任务描述&quot; class=&quot;headerlink&quot; title=&quot;任务描述&quot;&gt;&lt;/a&gt;任务描述&lt;/h2&gt;&lt;p&gt;对于正方形的移动增加相应动画，包括移动和旋转&lt;br&gt;每个指令的执行时间是1s（可以自己调整）&lt;br&gt;增加新的指令如下：&lt;br&gt;TRA LEF：向屏幕的左侧移动一格，方向不变&lt;br&gt;TRA TOP：向屏幕的上面移动一格，方向不变&lt;br&gt;TRA RIG：向屏幕的右侧移动一格，方向不变&lt;br&gt;TRA BOT：向屏幕的下面移动一格，方向不变&lt;br&gt;MOV LEF：方向转向屏幕左侧，并向屏幕的左侧移动一格&lt;br&gt;MOV TOP：方向转向屏幕上面，向屏幕的上面移动一格&lt;br&gt;MOV RIG：方向转向屏幕右侧，向屏幕的右侧移动一格&lt;br&gt;MOV BOT：方向转向屏幕下面，向屏幕的下面移动一格&lt;/p&gt;
&lt;h2 id=&quot;任务注意事项&quot;&gt;&lt;a href=&quot;#任务注意事项&quot; class=&quot;headerlink&quot; title=&quot;任务注意事项&quot;&gt;&lt;/a&gt;任务注意事项&lt;/h2&gt;&lt;p&gt;实现功能的同时，请仔细学习JavaScript相关的知识&lt;br&gt;请注意代码风格的整齐、优雅&lt;br&gt;代码中含有必要的注释&lt;br&gt;建议不使用任何第三方库、框架&lt;/p&gt;
    
    </summary>
    
    
      <category term="百度IFE2017" scheme="http://yoursite.com/tags/%E7%99%BE%E5%BA%A6IFE2017/"/>
    
  </entry>
  
  <entry>
    <title>IFE JavaScript Task 2-04</title>
    <link href="http://yoursite.com/2017/09/30/ife2017/js2/Task04/"/>
    <id>http://yoursite.com/2017/09/30/ife2017/js2/Task04/</id>
    <published>2017-09-30T08:19:19.000Z</published>
    <updated>2018-02-28T03:43:14.695Z</updated>
    
    <content type="html"><![CDATA[<h1 id="任务四：听指令的小方块（一）"><a href="#任务四：听指令的小方块（一）" class="headerlink" title="任务四：听指令的小方块（一）"></a>任务四：听指令的小方块（一）</h1><h2 id="任务目的"><a href="#任务目的" class="headerlink" title="任务目的"></a>任务目的</h2><p>练习JavaScript在DOM、字符串处理相关知识<br>练习对于复杂UI，如何进行数据机构建模</p><h2 id="任务描述"><a href="#任务描述" class="headerlink" title="任务描述"></a>任务描述</h2><p>如图，实现一个类似棋盘的格子空间，每个格子用两个数字可以定位，一个红正方形的DOM在这个空间内，正方形中的蓝色边表示这是他的正面，有一个input输入框<br>在输入框中允许输入如下指令，按下按钮后，使得正方形做相应动作<br>GO：向蓝色边所面向的方向前进一格（一格等同于正方形的边长）<br>TUN LEF：向左转（逆时针旋转90度）<br>TUN RIG：向右转（顺时针旋转90度）<br>TUN BAC：向右转（旋转180度）<br>移动不能超出格子空间</p><h2 id="任务注意事项"><a href="#任务注意事项" class="headerlink" title="任务注意事项"></a>任务注意事项</h2><p>实现功能的同时，请仔细学习JavaScript相关的知识<br>请注意代码风格的整齐、优雅<br>代码中含有必要的注释<br>建议不使用任何第三方库、框架</p><a id="more"></a><p><em>代码如下：</em></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>IFE JavaScript Task 2 - 04<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"wrapper"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"buttons"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:void(0);"</span>&gt;</span>Go<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:void(0);"</span>&gt;</span>TunLeft<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:void(0);"</span>&gt;</span>TunRight<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:void(0);"</span>&gt;</span>TunBac<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//外部元素样式</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> wrapperStyle = <span class="string">"position:relative;"</span> +</span></span><br><span class="line"><span class="javascript">            <span class="string">"width:331px;"</span> +</span></span><br><span class="line"><span class="javascript">            <span class="string">"height:331px;"</span> +</span></span><br><span class="line"><span class="javascript">            <span class="string">"margin:10px;"</span>;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//表格样式</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> tableStyle = <span class="string">"border-collapse:collapse;"</span> +</span></span><br><span class="line"><span class="javascript">            <span class="string">"border-spacing:0;"</span>;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//表格td样式</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> tdStyle = <span class="string">"width:30px;"</span> +</span></span><br><span class="line"><span class="javascript">            <span class="string">"height:30px;"</span> +</span></span><br><span class="line"><span class="javascript">            <span class="string">"padding:1px;"</span> +</span></span><br><span class="line"><span class="javascript">            <span class="string">"margin:0;"</span> +</span></span><br><span class="line"><span class="javascript">            <span class="string">"border:1px solid #cccccc;"</span>;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//方块样式</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> blockStyle = <span class="string">"position:absolute;"</span> +</span></span><br><span class="line"><span class="javascript">            <span class="string">"width:33px;"</span> +</span></span><br><span class="line"><span class="javascript">            <span class="string">"height:28px;"</span> +</span></span><br><span class="line"><span class="javascript">            <span class="string">"left:0px;"</span> +</span></span><br><span class="line"><span class="javascript">            <span class="string">"top:0px;"</span> +</span></span><br><span class="line"><span class="javascript">            <span class="string">"transition: all .5s;"</span> +</span></span><br><span class="line"><span class="javascript">            <span class="string">"background:#75e5ff;"</span> +</span></span><br><span class="line"><span class="javascript">            <span class="string">"border-bottom:5px solid #f15555;"</span>;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//按钮外部元素样式</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> buttonsWrapStyle = <span class="string">"padding:0 10px;"</span>;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//按钮样式</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> buttonsStyle = <span class="string">"display: inline-block;"</span> +</span></span><br><span class="line"><span class="javascript">            <span class="string">"background:#ffffff;"</span> +</span></span><br><span class="line"><span class="javascript">            <span class="string">"color:#fd6ba6;"</span> +</span></span><br><span class="line"><span class="javascript">            <span class="string">"font-size:12px;"</span> +</span></span><br><span class="line"><span class="javascript">            <span class="string">"text-decoration:none;"</span> +</span></span><br><span class="line"><span class="javascript">            <span class="string">"line-height:normal;"</span> +</span></span><br><span class="line"><span class="javascript">            <span class="string">"border:1px solid #fd6ba6;"</span> +</span></span><br><span class="line"><span class="javascript">            <span class="string">"border-radius:3px;"</span> +</span></span><br><span class="line"><span class="javascript">            <span class="string">"padding: 6px 10px;"</span> +</span></span><br><span class="line"><span class="javascript">            <span class="string">"margin:0px 5px 5px 0;"</span>;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//按钮hover样式</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> buttonsHoverStyle = <span class="string">"display: inline-block;"</span> +</span></span><br><span class="line"><span class="javascript">            <span class="string">"background:#fd6ba6;"</span> +</span></span><br><span class="line"><span class="javascript">            <span class="string">"color:#ffffff;"</span> +</span></span><br><span class="line"><span class="javascript">            <span class="string">"font-size:12px;"</span> +</span></span><br><span class="line"><span class="javascript">            <span class="string">"text-decoration:none;"</span> +</span></span><br><span class="line"><span class="javascript">            <span class="string">"line-height:normal;"</span> +</span></span><br><span class="line"><span class="javascript">            <span class="string">"-webkit-transition: all 0.28s ease;"</span> +</span></span><br><span class="line"><span class="javascript">            <span class="string">"transition: all 0.28s ease;"</span> +</span></span><br><span class="line"><span class="javascript">            <span class="string">"border-radius:3px;"</span> +</span></span><br><span class="line"><span class="javascript">            <span class="string">"border:1px solid #fd6ba6;"</span> +</span></span><br><span class="line"><span class="javascript">            <span class="string">"padding: 6px 10px;"</span> +</span></span><br><span class="line"><span class="javascript">            <span class="string">"margin:0px 5px 5px 0;"</span>;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//获取按钮</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> getButtons = <span class="built_in">document</span>.getElementById(<span class="string">"buttons"</span>);</span></span><br><span class="line"><span class="javascript">        <span class="comment">//获取容器元素</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> getWrapper = $(<span class="string">"#wrapper"</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="comment">//初始角度</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> blockDeg = <span class="number">0</span>;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">$</span>(<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> <span class="built_in">document</span>.querySelector(e);</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        /*添加样式</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">addStyle</span>(<span class="params">id, el, style</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">let</span> els = $(id).getElementsByTagName(el);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span> (els.length === <span class="number">1</span>) &#123;</span></span><br><span class="line"><span class="undefined">                els[0].style.cssText = style;</span></span><br><span class="line"><span class="javascript">            &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; els.length; i++) &#123;</span></span><br><span class="line"><span class="undefined">                    els[i].style.cssText = style;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="comment">//按钮增加hover样式</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">buttonHover</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            getButtons.addEventListener(<span class="string">"mouseover"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span> (event.target.nodeName === <span class="string">"A"</span>) &#123;</span></span><br><span class="line"><span class="javascript">                    event.target.style.cssText = buttonsHoverStyle;<span class="comment">//为按钮增加样式</span></span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;);</span></span><br><span class="line"><span class="javascript">            getButtons.addEventListener(<span class="string">"mouseout"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span> (event.target.nodeName === <span class="string">"A"</span>) &#123;</span></span><br><span class="line"><span class="javascript">                    event.target.style.cssText = buttonsStyle;<span class="comment">//为按钮增加样式</span></span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;);</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">createTable</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//创建table</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> _table = <span class="built_in">document</span>.createElement(<span class="string">"table"</span>);</span></span><br><span class="line"><span class="javascript">            <span class="comment">//创建tbody</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> _tbody = <span class="built_in">document</span>.createElement(<span class="string">"tbody"</span>);</span></span><br><span class="line"><span class="javascript">            <span class="comment">//获取table父元素 生成table</span></span></span><br><span class="line"><span class="undefined">            getWrapper.appendChild(_table);</span></span><br><span class="line"><span class="javascript">            <span class="comment">//获取table 生成tbdoy</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> getTable = getWrapper.getElementsByTagName(<span class="string">"table"</span>);</span></span><br><span class="line"><span class="undefined">            getTable[0].appendChild(_tbody);</span></span><br><span class="line"><span class="javascript">            <span class="comment">//获取tbody</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> getTbody = getWrapper.getElementsByTagName(<span class="string">"tbody"</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">let</span> _tr = [];</span></span><br><span class="line"><span class="javascript">                _tr[i] = <span class="built_in">document</span>.createElement(<span class="string">"tr"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">//生成tr</span></span></span><br><span class="line"><span class="undefined">                getTbody[0].appendChild(_tr[i]);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; <span class="number">10</span>; j++) &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">//获取tr 生成td</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">let</span> getTr = getTbody[<span class="number">0</span>].getElementsByTagName(<span class="string">"tr"</span>);</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">let</span> _td = [];</span></span><br><span class="line"><span class="javascript">                    _td[j] = <span class="built_in">document</span>.createElement(<span class="string">"td"</span>);</span></span><br><span class="line"><span class="undefined">                    _tr[i].appendChild(_td[j]);</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="comment">//创建方块</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">createBlock</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> _block = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</span></span><br><span class="line"><span class="javascript">            getWrapper.appendChild(_block).id = <span class="string">"block"</span>;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="comment">//移动</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">Go</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//获取block</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> getBlock = $(<span class="string">"#block"</span>);</span></span><br><span class="line"><span class="javascript">            <span class="comment">//获取block边距</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> collTop = getBlock.offsetTop;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> collLeft = getBlock.offsetLeft;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//获取block高度</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> BlockHeight = getBlock.offsetHeight;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//获取容器高度与宽度</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> wrapHeight = getWrapper.offsetHeight - BlockHeight * <span class="number">2</span>;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="keyword">let</span> _blockDeg = blockDeg;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">//如果角度是负值，取正</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">while</span> (_blockDeg &lt; <span class="number">0</span>) &#123;</span></span><br><span class="line"><span class="undefined">                _blockDeg = _blockDeg + 360;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span> (_blockDeg % <span class="number">360</span> === <span class="number">270</span> &amp;&amp; collLeft &lt; wrapHeight) &#123;<span class="comment">//右移</span></span></span><br><span class="line"><span class="javascript">                getBlock.style.left = collLeft + BlockHeight + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(<span class="string">"右移"</span>);</span></span><br><span class="line"><span class="javascript">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (_blockDeg % <span class="number">360</span> === <span class="number">0</span> &amp;&amp; collTop &lt; wrapHeight) &#123;<span class="comment">//下移</span></span></span><br><span class="line"><span class="javascript">                getBlock.style.top = collTop + BlockHeight + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(<span class="string">"下移"</span>);</span></span><br><span class="line"><span class="javascript">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (_blockDeg % <span class="number">360</span> === <span class="number">90</span> &amp;&amp; collLeft &gt; <span class="number">0</span>) &#123;<span class="comment">//左移</span></span></span><br><span class="line"><span class="javascript">                getBlock.style.left = (collLeft - BlockHeight) + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(<span class="string">"左移"</span>);</span></span><br><span class="line"><span class="javascript">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (_blockDeg % <span class="number">360</span> === <span class="number">180</span> &amp;&amp; collTop &gt; <span class="number">0</span>) &#123;<span class="comment">//上移</span></span></span><br><span class="line"><span class="javascript">                getBlock.style.top = (collTop - BlockHeight) + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(<span class="string">"上移"</span>);</span></span><br><span class="line"><span class="javascript">            &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    alert(<span class="string">"不能超过边界！"</span>);</span></span><br><span class="line"><span class="undefined">                &#125;, 200)</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="comment">//block旋转</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">tun</span>(<span class="params">deg, b</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//获取block</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> getBlock = $(<span class="string">"#block"</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span> (b === <span class="literal">true</span>) &#123;</span></span><br><span class="line"><span class="undefined">                blockDeg = blockDeg - deg;</span></span><br><span class="line"><span class="javascript">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (b === <span class="literal">false</span>) &#123;</span></span><br><span class="line"><span class="undefined">                blockDeg = blockDeg + deg;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="javascript">            getBlock.style.transform = <span class="string">"rotate("</span> + blockDeg + <span class="string">"Deg)"</span>;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="comment">//绑定事件</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">addListener</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            getButtons.addEventListener(<span class="string">"click"</span>, event =&gt; &#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span> (event.target.innerHTML === <span class="string">"Go"</span>) &#123;</span></span><br><span class="line"><span class="undefined">                    Go();</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span> (event.target.innerHTML === <span class="string">"TunLeft"</span>) &#123;</span></span><br><span class="line"><span class="javascript">                    tun(<span class="number">90</span>, <span class="literal">true</span>);</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span> (event.target.innerHTML === <span class="string">"TunRight"</span>) &#123;</span></span><br><span class="line"><span class="javascript">                    tun(<span class="number">90</span>, <span class="literal">false</span>);</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span> (event.target.innerHTML === <span class="string">"TunBac"</span>) &#123;</span></span><br><span class="line"><span class="javascript">                    tun(<span class="number">180</span>, <span class="literal">false</span>);</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;)</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="undefined">            createTable();</span></span><br><span class="line"><span class="undefined">            createBlock();</span></span><br><span class="line"><span class="javascript">            <span class="comment">//添加样式</span></span></span><br><span class="line"><span class="javascript">            $(<span class="string">"#wrapper"</span>).style.cssText = wrapperStyle;</span></span><br><span class="line"><span class="undefined">            getButtons.style.cssText = buttonsWrapStyle;</span></span><br><span class="line"><span class="javascript">            addStyle(<span class="string">"#wrapper"</span>, <span class="string">"table"</span>, tableStyle);</span></span><br><span class="line"><span class="javascript">            addStyle(<span class="string">"#wrapper"</span>, <span class="string">"td"</span>, tdStyle);</span></span><br><span class="line"><span class="javascript">            addStyle(<span class="string">"#wrapper"</span>, <span class="string">"div"</span>, blockStyle);</span></span><br><span class="line"><span class="javascript">            addStyle(<span class="string">"#buttons"</span>, <span class="string">"a"</span>, buttonsStyle);</span></span><br><span class="line"><span class="undefined">            buttonHover();</span></span><br><span class="line"><span class="undefined">            addListener();</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        init();</span></span><br><span class="line"><span class="undefined">    &#125;())</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><em>Demo如下：</em></p><script>window.onload = function () {    (function () {        //外部元素样式        const wrapperStyle = "position:relative;" +            "width:331px;" +            "height:331px;" +            "margin:10px;";        //表格样式        const tableStyle = "border-collapse:collapse;" +            "border-spacing:0;";        //表格td样式        const tdStyle = "width:30px;" +            "height:30px;" +            "padding:1px;" +            "margin:0;" +            "border:1px solid #cccccc;";        //方块样式        const blockStyle = "position:absolute;" +            "width:33px;" +            "height:28px;" +            "left:0px;" +            "top:0px;" +            "transition: all .5s;" +            "background:#75e5ff;" +            "border-bottom:5px solid #f15555;";        //按钮外部元素样式        const buttonsWrapStyle = "padding:0 10px;";        //按钮样式        const buttonsStyle = "display: inline-block;" +            "background:#ffffff;" +            "color:#fd6ba6;" +            "font-size:12px;" +            "text-decoration:none;" +            "line-height:normal;" +            "border:1px solid #fd6ba6;" +            "border-radius:3px;" +            "padding: 6px 10px;" +            "margin:0px 5px 5px 0;";        //按钮hover样式        const buttonsHoverStyle = "display: inline-block;" +            "background:#fd6ba6;" +            "color:#ffffff;" +            "font-size:12px;" +            "text-decoration:none;" +            "line-height:normal;" +            "-webkit-transition: all 0.28s ease;" +            "transition: all 0.28s ease;" +            "border-radius:3px;" +            "border:1px solid #fd6ba6;" +            "padding: 6px 10px;" +            "margin:0px 5px 5px 0;";        //获取按钮        const getButtons = document.getElementById("buttons");        //获取容器元素        const getWrapper = $("#wrapper");        //初始角度        var blockDeg = 0;        function $(e) {            return document.querySelector(e);        }        /*添加样式                 */        function addStyle(id, el, style) {            let els = $(id).getElementsByTagName(el);            if (els.length === 1) {                els[0].style.cssText = style;            } else {                for (let i = 0; i < els.length; i++) {                    els[i].style.cssText = style;                }            }        }        //按钮增加hover样式        function buttonHover() {            getButtons.addEventListener("mouseover", function (event) {                if (event.target.nodeName === "A") {                    event.target.style.cssText = buttonsHoverStyle;//为按钮增加样式                }            });            getButtons.addEventListener("mouseout", function (event) {                if (event.target.nodeName === "A") {                    event.target.style.cssText = buttonsStyle;//为按钮增加样式                }            });        }        function createTable() {            //创建table            const _table = document.createElement("table");            //创建tbody            const _tbody = document.createElement("tbody");            //获取table父元素 生成table            getWrapper.appendChild(_table);            //获取table 生成tbdoy            const getTable = getWrapper.getElementsByTagName("table");            getTable[0].appendChild(_tbody);            //获取tbody            const getTbody = getWrapper.getElementsByTagName("tbody");            for (let i = 0; i < 10; i++) {                let _tr = [];                _tr[i] = document.createElement("tr");                //生成tr                getTbody[0].appendChild(_tr[i]);                for (let j = 0; j < 10; j++) {                    //获取tr 生成td                    let getTr = getTbody[0].getElementsByTagName("tr");                    let _td = [];                    _td[j] = document.createElement("td");                    _tr[i].appendChild(_td[j]);                }            }        }        //创建方块        function createBlock() {            const _block = document.createElement("div");            getWrapper.appendChild(_block).id = "block";        }        //移动        function Go() {            //获取block            const getBlock = $("#block");            //获取block边距            const collTop = getBlock.offsetTop;            const collLeft = getBlock.offsetLeft;            //获取block高度            const BlockHeight = getBlock.offsetHeight;            //获取容器高度与宽度            const wrapHeight = getWrapper.offsetHeight - BlockHeight * 2;            let _blockDeg = blockDeg;            //如果角度是负值，取正            while (_blockDeg < 0) {                _blockDeg = _blockDeg + 360;            }            if (_blockDeg % 360 === 270 && collLeft < wrapHeight) {//右移                getBlock.style.left = collLeft + BlockHeight + "px";                console.log("右移");            } else if (_blockDeg % 360 === 0 && collTop < wrapHeight) {//下移                getBlock.style.top = collTop + BlockHeight + "px";                console.log("下移");            } else if (_blockDeg % 360 === 90 && collLeft > 0) {//左移                getBlock.style.left = (collLeft - BlockHeight) + "px";                console.log("左移");            } else if (_blockDeg % 360 === 180 && collTop > 0) {//上移                getBlock.style.top = (collTop - BlockHeight) + "px";                console.log("上移");            } else {                setTimeout(function () {                    alert("不能超过边界！");                }, 200)            }        }        //block旋转        function tun(deg, b) {            //获取block            const getBlock = $("#block");            if (b === true) {                blockDeg = blockDeg - deg;            } else if (b === false) {                blockDeg = blockDeg + deg;            }            getBlock.style.transform = "rotate(" + blockDeg + "Deg)";        }        //绑定事件        function addListener() {            getButtons.addEventListener("click", event => {                if (event.target.innerHTML === "Go") {                    Go();                }                if (event.target.innerHTML === "TunLeft") {                    tun(90, true);                }                if (event.target.innerHTML === "TunRight") {                    tun(90, false);                }                if (event.target.innerHTML === "TunBac") {                    tun(180, false);                }            })        }        function init() {            createTable();            createBlock();            //添加样式            $("#wrapper").style.cssText = wrapperStyle;            getButtons.style.cssText = buttonsWrapStyle;            addStyle("#wrapper", "table", tableStyle);            addStyle("#wrapper", "td", tdStyle);            addStyle("#wrapper", "div", blockStyle);            addStyle("#buttons", "a", buttonsStyle);            buttonHover();            addListener();        }        init();    }())}</script><div id="wrapper"></div><div id="buttons"><a href="javascript:void(0);" target="_blank" rel="noopener">Go</a><a href="javascript:void(0);" target="_blank" rel="noopener">TunLeft</a><a href="javascript:void(0);" target="_blank" rel="noopener">TunRight</a><a href="javascript:void(0);" target="_blank" rel="noopener">TunBac</a></div>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;任务四：听指令的小方块（一）&quot;&gt;&lt;a href=&quot;#任务四：听指令的小方块（一）&quot; class=&quot;headerlink&quot; title=&quot;任务四：听指令的小方块（一）&quot;&gt;&lt;/a&gt;任务四：听指令的小方块（一）&lt;/h1&gt;&lt;h2 id=&quot;任务目的&quot;&gt;&lt;a href=&quot;#任务目的&quot; class=&quot;headerlink&quot; title=&quot;任务目的&quot;&gt;&lt;/a&gt;任务目的&lt;/h2&gt;&lt;p&gt;练习JavaScript在DOM、字符串处理相关知识&lt;br&gt;练习对于复杂UI，如何进行数据机构建模&lt;/p&gt;
&lt;h2 id=&quot;任务描述&quot;&gt;&lt;a href=&quot;#任务描述&quot; class=&quot;headerlink&quot; title=&quot;任务描述&quot;&gt;&lt;/a&gt;任务描述&lt;/h2&gt;&lt;p&gt;如图，实现一个类似棋盘的格子空间，每个格子用两个数字可以定位，一个红正方形的DOM在这个空间内，正方形中的蓝色边表示这是他的正面，有一个input输入框&lt;br&gt;在输入框中允许输入如下指令，按下按钮后，使得正方形做相应动作&lt;br&gt;GO：向蓝色边所面向的方向前进一格（一格等同于正方形的边长）&lt;br&gt;TUN LEF：向左转（逆时针旋转90度）&lt;br&gt;TUN RIG：向右转（顺时针旋转90度）&lt;br&gt;TUN BAC：向右转（旋转180度）&lt;br&gt;移动不能超出格子空间&lt;/p&gt;
&lt;h2 id=&quot;任务注意事项&quot;&gt;&lt;a href=&quot;#任务注意事项&quot; class=&quot;headerlink&quot; title=&quot;任务注意事项&quot;&gt;&lt;/a&gt;任务注意事项&lt;/h2&gt;&lt;p&gt;实现功能的同时，请仔细学习JavaScript相关的知识&lt;br&gt;请注意代码风格的整齐、优雅&lt;br&gt;代码中含有必要的注释&lt;br&gt;建议不使用任何第三方库、框架&lt;/p&gt;
    
    </summary>
    
    
      <category term="百度IFE2017" scheme="http://yoursite.com/tags/%E7%99%BE%E5%BA%A6IFE2017/"/>
    
  </entry>
  
  <entry>
    <title>去除textarea左侧空格</title>
    <link href="http://yoursite.com/2017/09/26/js/JavaScript-011/"/>
    <id>http://yoursite.com/2017/09/26/js/JavaScript-011/</id>
    <published>2017-09-26T08:19:19.000Z</published>
    <updated>2018-02-28T03:43:14.700Z</updated>
    
    <content type="html"><![CDATA[<p>点击按钮去除页面所有<code>textarea</code>左侧空格<br><b>思路</b>是这样的，首先在获取<code>textarea</code>时先判断是获取页面全部<code>textarea</code>还是容器内的，如果是容器内的传入相应容器的<code>id</code>，之后遍历所用<code>textarea</code>去除左侧空格，最后为按钮绑定事件来触发去空格效果。</p><a id="more"></a><p><em>代码如下：</em></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Kamui on 2017/9/25.</span></span><br><span class="line"><span class="comment"> * 去除textarea左侧空格</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> module_textareaTrim = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">//获取textarea,判断是获取全局还是元素内</span></span><br><span class="line">        <span class="keyword">var</span> getElements =  <span class="function"><span class="keyword">function</span> (<span class="params">id</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">document</span>.getElementById(id))&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">document</span>.getElementById(id).getElementsByTagName(<span class="string">"textarea"</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">return</span>  <span class="built_in">document</span>.getElementsByTagName(<span class="string">"textarea"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="comment">//遍历textarea 为其去除左侧空格</span></span><br><span class="line">       <span class="keyword">var</span> Trim = <span class="function"><span class="keyword">function</span> (<span class="params">id</span>) </span>&#123;</span><br><span class="line">           <span class="keyword">var</span> _textareaVale = getElements(id);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;  _textareaVale.length; i++)&#123;</span><br><span class="line">                <span class="keyword">var</span> el = _textareaVale[i].value;</span><br><span class="line">                _textareaVale[i].value = el.replace(<span class="regexp">/^\s*/g</span>,<span class="string">""</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">       <span class="comment">//最后为按钮绑定事件</span></span><br><span class="line">        <span class="keyword">var</span> addEvent = <span class="function"><span class="keyword">function</span> (<span class="params">el,id</span>) </span>&#123;</span><br><span class="line">           <span class="built_in">document</span>.getElementById(el).onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">               Trim(id);</span><br><span class="line">           &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          getElements :getElements,</span><br><span class="line">          Trim : Trim ,</span><br><span class="line">          addEvent : addEvent</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;());</span><br><span class="line">    <span class="comment">//传入按钮id值,textarea 外层id 如没有可不写</span></span><br><span class="line">    module_textareaTrim.addEvent(<span class="string">"button"</span>,<span class="string">"wrap1"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><em>Demo如下</em></p><p><div id="wrap1"><textarea title="">        去除空格</textarea><br><textarea title="">        除空格</textarea><br><textarea title="">    空格</textarea><br><button class="button" id="button">去除空格</button></div></p><script>/** * Created by Kamui on 2017/9/25. * 去除textarea左侧空格 */window.onload = function () {    var module_textareaTrim = (function () {        //获取textarea,判断是获取全局还是元素内        var getElements =  function (id) {            if(document.getElementById(id)){                return document.getElementById(id).getElementsByTagName("textarea");            }else{                return  document.getElementsByTagName("textarea");            }        };        //遍历textarea 为其去除左侧空格       var Trim = function (id) {           var  _textareaVale = getElements(id);            for (var i = 0; i<  _textareaVale.length; i++){                var el = _textareaVale[i].value;                _textareaVale[i].value = el.replace(/^\s*/g,"");            }        };       //最后为按钮绑定事件        var addEvent = function (el,id) {           document.getElementById(el).onclick = function () {               Trim(id);           }        };        return {          getElements :getElements,          Trim : Trim ,          addEvent : addEvent        }    }());    //传入按钮id值,textarea 外层id 如没有可不写    module_textareaTrim.addEvent("button","wrap1");}</script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;点击按钮去除页面所有&lt;code&gt;textarea&lt;/code&gt;左侧空格&lt;br&gt;&lt;b&gt;思路&lt;/b&gt;是这样的，首先在获取&lt;code&gt;textarea&lt;/code&gt;时先判断是获取页面全部&lt;code&gt;textarea&lt;/code&gt;还是容器内的，如果是容器内的传入相应容器的&lt;code&gt;id&lt;/code&gt;，之后遍历所用&lt;code&gt;textarea&lt;/code&gt;去除左侧空格，最后为按钮绑定事件来触发去空格效果。&lt;/p&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>为列表中最后一个元素去除下划线</title>
    <link href="http://yoursite.com/2017/09/15/js/JavaScript-010/"/>
    <id>http://yoursite.com/2017/09/15/js/JavaScript-010/</id>
    <published>2017-09-15T08:19:19.000Z</published>
    <updated>2018-02-28T03:43:14.700Z</updated>
    
    <content type="html"><![CDATA[<p>效果如下图，为tabs选项卡中列表最后一个元素去除下划线</p><p><img src="/uploads/removeLine.gif" style="border:none;border-radius: 10px;"></p><a id="more"></a><p>由于不想改变页面结构（为元素增加<code>Id</code>什么的)，所以用Jquery写的<br>这里遇到一个坑，jq循环不能用 <code>getRoot[i]</code> 要用 <code>ep(i)</code> 选择器</p><p><em>代码如下：</em></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Kamui on 2017/09/14.</span></span><br><span class="line"><span class="comment"> * 去除栏目列表最后一个元素下划线</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">removeLine</span>(<span class="params">el, tag, _class</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ($(el)) &#123;</span><br><span class="line">        <span class="keyword">var</span> getRoot = $(el);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; getRoot.length; i++) &#123;</span><br><span class="line">            getRoot.eq(i).children(tag).last().addClass(_class);</span><br><span class="line">            <span class="comment">//console.log(getRoot.eq(i));</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><br><br><em>下面补上原生写法：</em></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Kamui on 2017/09/15.</span></span><br><span class="line"><span class="comment"> * 去除栏目列表最后一个元素下划线</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">removeLastLine</span>(<span class="params">id,list,element,_className</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">document</span>.getElementById(id)) &#123;</span><br><span class="line">        <span class="keyword">var</span> rootId = <span class="built_in">document</span>.getElementById(id);<span class="comment">//获取外层</span></span><br><span class="line">        <span class="keyword">var</span> getList = rootId.getElementsByTagName(list);<span class="comment">//获取列表</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; getList.length;) &#123;</span><br><span class="line">            <span class="keyword">var</span> getListEl = getList[i].getElementsByTagName(element);<span class="comment">//获取列表内元素</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; getListEl.length; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (j === getListEl.length - <span class="number">1</span>) &#123;</span><br><span class="line">                    getListEl[j].className = _className;</span><br><span class="line">                    <span class="comment">//console.log(getListEl[j]);</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            i++</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;效果如下图，为tabs选项卡中列表最后一个元素去除下划线&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/uploads/removeLine.gif&quot; style=&quot;border:none;border-radius: 10px;&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>IFE JavaScript Task 2-03</title>
    <link href="http://yoursite.com/2017/09/07/ife2017/js2/Task03/"/>
    <id>http://yoursite.com/2017/09/07/ife2017/js2/Task03/</id>
    <published>2017-09-07T08:19:19.000Z</published>
    <updated>2018-02-28T03:43:14.695Z</updated>
    
    <content type="html"><![CDATA[<h1 id="任务三：表单（三）联动"><a href="#任务三：表单（三）联动" class="headerlink" title="任务三：表单（三）联动"></a>任务三：表单（三）联动</h1><h2 id="任务目的"><a href="#任务目的" class="headerlink" title="任务目的"></a>任务目的</h2><p>加强对JavaScript的掌握</p><p>熟悉常用表单处理逻辑</p><h2 id="任务描述"><a href="#任务描述" class="headerlink" title="任务描述"></a>任务描述</h2><p>如示例图中所示，在页面中完成两个单选框，切换单选框的不同选项时下方显示的表单随之切换。<br>当选择在校生时，出现两个select下拉菜单，一个选择城市，一个选择学校，当选择非在校生时，出一个文本输入框<br>学校下拉菜单里的学校名单均为城市下拉菜单中所选的城市中的大学，当城市发生变化时，学校一起发生变化<br>城市及学校的数据随意编造即可，无需真实完整</p><h2 id="任务注意事项"><a href="#任务注意事项" class="headerlink" title="任务注意事项"></a>任务注意事项</h2><p>要求功能实现与任务描述中完全一致<br>示例图仅为参考，样式不需要完全实现一致<br>请注意代码风格的整齐、优雅<br>代码中含有必要的注释<br>不允许借助任何第三方组件库实现</p><a id="more"></a><p><em>Demo增加功能：</em><br>1、添加专业的默认选择，选择城市时会自动选择学校与专业<br>2、添加了专业 <code>select</code> ，变为三级联动</p><p><em>代码如下：</em></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>IFE JavaScript Task 2 - 03<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"form_wrap"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">title</span>=<span class="string">""</span> <span class="attr">name</span>=<span class="string">"student"</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">checked</span>=<span class="string">"true"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>在校生<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">title</span>=<span class="string">""</span> <span class="attr">name</span>=<span class="string">"student"</span> <span class="attr">type</span>=<span class="string">"radio"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>非在校生<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>学校：<span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">title</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">select</span>&gt;</span><span class="tag">&lt;<span class="name">select</span> <span class="attr">title</span>=<span class="string">""</span> <span class="attr">name</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">select</span>&gt;</span><span class="tag">&lt;<span class="name">select</span> <span class="attr">title</span>=<span class="string">""</span> <span class="attr">name</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">select</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>就业单位：<span class="tag">&lt;<span class="name">input</span> <span class="attr">title</span>=<span class="string">""</span> <span class="attr">type</span>=<span class="string">"text"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="undefined">            /* 常量 元素样式</span></span><br><span class="line"><span class="undefined">             */</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> wrapStyle = <span class="string">"color:#999999;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"font-size:14px;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"color:#fd6ba6;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"padding:10px;"</span>;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> pStyle = <span class="string">""</span>;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> inputRadioStyle = <span class="string">"margin:0 5px;"</span>;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> selectStyle =</span></span><br><span class="line"><span class="javascript">                <span class="string">"height:25px;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"border:1px solid #309AE6;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"border-radius:3px;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"color:#309AE6;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"box-shadow:2px 2px 3px #cccccc;"</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">"margin:0 5px;"</span>;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> schools = [</span></span><br><span class="line"><span class="undefined">                &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="string">"city"</span>: <span class="string">"北京"</span>,</span></span><br><span class="line"><span class="javascript">                    <span class="string">"school"</span>: [<span class="string">"清华大学"</span>, <span class="string">"北京大学"</span>],</span></span><br><span class="line"><span class="javascript">                    <span class="string">"major"</span>: [[<span class="string">"软件工程"</span>, <span class="string">"计算机科学与技术"</span>], [<span class="string">"电子科学与技术"</span>, <span class="string">"信息物理工程"</span>]]&#125;,</span></span><br><span class="line"><span class="undefined">                &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="string">"city"</span>: <span class="string">"上海"</span>,</span></span><br><span class="line"><span class="javascript">                    <span class="string">"school"</span>: [<span class="string">"复旦大学"</span>, <span class="string">"上海交通大学"</span>, <span class="string">"上海大学"</span>],</span></span><br><span class="line"><span class="javascript">                    <span class="string">"major"</span>: [[<span class="string">"自动化"</span>, <span class="string">"电子科学与技术"</span>, <span class="string">"微电子制造工程"</span>], [<span class="string">"信息物理工程"</span>, <span class="string">"电子科学与技术"</span>, <span class="string">"微电子制造工程"</span>], [<span class="string">"计算机软件"</span>, <span class="string">"自动化"</span>, <span class="string">"微电子制造工程"</span>]]</span></span><br><span class="line"><span class="undefined">                &#125;,</span></span><br><span class="line"><span class="undefined">                &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="string">"city"</span>: <span class="string">"湘潭"</span>,</span></span><br><span class="line"><span class="javascript">                    <span class="string">"school"</span>: [<span class="string">"湖南科技大学"</span>, <span class="string">"湘潭大学"</span>],</span></span><br><span class="line"><span class="javascript">                    <span class="string">"major"</span>: [[<span class="string">"计算机软件"</span>, <span class="string">"微电子制造工程"</span>], [<span class="string">"微电子制造工程"</span>, <span class="string">"软件工程"</span>]]&#125;,</span></span><br><span class="line"><span class="undefined">                &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="string">"city"</span>: <span class="string">"长沙"</span>,</span></span><br><span class="line"><span class="javascript">                    <span class="string">"school"</span>: [<span class="string">"湖南大学"</span>, <span class="string">"湖南学院"</span>],</span></span><br><span class="line"><span class="javascript">                    <span class="string">"major"</span>: [[<span class="string">"电子信息工程 "</span>, <span class="string">"信息物理工程"</span>], [<span class="string">"计算机科学与技术 "</span>, <span class="string">"电子科学与技术"</span>]]&#125;</span></span><br><span class="line"><span class="undefined">            ];</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> wrap = <span class="built_in">document</span>.getElementById(<span class="string">"form_wrap"</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> _select = $(<span class="string">"select"</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            /*工具函数</span></span><br><span class="line"><span class="undefined">             */</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">$</span>(<span class="params">s</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> wrap.getElementsByTagName(s);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            /*添加样式</span></span><br><span class="line"><span class="undefined">             */</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">addStyle</span>(<span class="params">el, style, num</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> els = $(el);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span> (els.length === <span class="number">1</span>) &#123;</span></span><br><span class="line"><span class="undefined">                    els[0].style.cssText = style;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(els[<span class="number">0</span>]);</span></span><br><span class="line"><span class="javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; els.length; i++) &#123;</span></span><br><span class="line"><span class="undefined">                        els[i].style.cssText = style;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">//需要隐藏的元素</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span> (els[num]) &#123;</span></span><br><span class="line"><span class="javascript">                        els[num].style.display = <span class="string">"none"</span>;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            /*绑定事件</span></span><br><span class="line"><span class="undefined">             */</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">radioOnChange</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">let</span> el = $(<span class="string">"input"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">let</span> p = $(<span class="string">"p"</span>);</span></span><br><span class="line"><span class="javascript">                el[<span class="number">1</span>].onchange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    p[<span class="number">1</span>].style.display = <span class="string">"none"</span>;</span></span><br><span class="line"><span class="javascript">                    p[<span class="number">2</span>].style.display = <span class="string">"block"</span>;</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="javascript">                el[<span class="number">0</span>].onchange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    p[<span class="number">1</span>].style.display = <span class="string">"block"</span>;</span></span><br><span class="line"><span class="javascript">                    p[<span class="number">2</span>].style.display = <span class="string">"none"</span>;</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            /*创建城市option</span></span><br><span class="line"><span class="undefined">            */</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">creatCityOption</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">let</span> string = <span class="string">""</span>;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; schools.length; i++) &#123;</span></span><br><span class="line"><span class="javascript">                    string += <span class="string">"&lt;option&gt;"</span> + schools[i].city + <span class="string">"&lt;/option&gt;"</span></span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="xml">                _select[0].innerHTML = "<span class="tag">&lt;<span class="name">option</span>&gt;</span>请选择城市！<span class="tag">&lt;/<span class="name">option</span>&gt;</span>" + string;</span></span><br><span class="line"><span class="xml">                _select[1].innerHTML = "<span class="tag">&lt;<span class="name">option</span>&gt;</span>请选择学校！<span class="tag">&lt;/<span class="name">option</span>&gt;</span>";</span></span><br><span class="line"><span class="xml">                _select[2].innerHTML = "<span class="tag">&lt;<span class="name">option</span>&gt;</span>请选择专业！<span class="tag">&lt;/<span class="name">option</span>&gt;</span>";</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            /*添加城市与学校onchange</span></span><br><span class="line"><span class="undefined">            */</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">cityOnchange</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">const</span> _select = $(<span class="string">"select"</span>);</span></span><br><span class="line"><span class="javascript">                _select[<span class="number">0</span>].onchange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; schools.length; i++) &#123;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">if</span> (<span class="keyword">this</span>.value === schools[i].city) &#123;</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">let</span> string = <span class="string">""</span>;<span class="comment">//学校字符串</span></span></span><br><span class="line"><span class="javascript">                            <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; schools[i].school.length; j++) &#123;</span></span><br><span class="line"><span class="javascript">                                <span class="comment">//学校</span></span></span><br><span class="line"><span class="javascript">                                string += <span class="string">"&lt;option&gt;"</span> + schools[i].school[j] + <span class="string">"&lt;/option&gt;"</span>;</span></span><br><span class="line"><span class="undefined">                                _select[1].innerHTML = string;</span></span><br><span class="line"><span class="javascript">                                <span class="comment">//专业</span></span></span><br><span class="line"><span class="javascript">                                <span class="keyword">let</span> str = <span class="string">""</span>;<span class="comment">//专业字符串</span></span></span><br><span class="line"><span class="javascript">                                <span class="keyword">for</span> (<span class="keyword">let</span> k = <span class="number">0</span>; k &lt; schools[i].major[j].length; k++) &#123;</span></span><br><span class="line"><span class="javascript">                                    str += <span class="string">"&lt;option&gt;"</span> + schools[i].major[<span class="number">0</span>][k] + <span class="string">"&lt;/option&gt;"</span>;</span></span><br><span class="line"><span class="undefined">                                    _select[2].innerHTML = str;</span></span><br><span class="line"><span class="undefined">                                &#125;</span></span><br><span class="line"><span class="undefined">                            &#125;</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="javascript">                _select[<span class="number">1</span>].onchange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; schools.length; i++) &#123;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; schools[i].school.length; j++) &#123;</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">let</span> string = <span class="string">""</span>;</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">if</span> (<span class="keyword">this</span>.value === schools[i].school[j]) &#123;</span></span><br><span class="line"><span class="javascript">                                <span class="keyword">for</span> (<span class="keyword">let</span> k = <span class="number">0</span>; k &lt; schools[i].major[j].length; k++) &#123;</span></span><br><span class="line"><span class="javascript">                                    string += <span class="string">"&lt;option&gt;"</span> + schools[i].major[j][k] + <span class="string">"&lt;/option&gt;"</span>;</span></span><br><span class="line"><span class="undefined">                                    _select[2].innerHTML = string;</span></span><br><span class="line"><span class="undefined">                                &#125;</span></span><br><span class="line"><span class="undefined">                            &#125;</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="undefined">                wrap.style.cssText = wrapStyle;</span></span><br><span class="line"><span class="javascript">                addStyle(<span class="string">"p"</span>, pStyle, <span class="number">2</span>);</span></span><br><span class="line"><span class="javascript">                addStyle(<span class="string">"input"</span>, inputRadioStyle);</span></span><br><span class="line"><span class="javascript">                addStyle(<span class="string">"select"</span>, selectStyle);</span></span><br><span class="line"><span class="undefined">                radioOnChange();</span></span><br><span class="line"><span class="undefined">                creatCityOption();</span></span><br><span class="line"><span class="undefined">                cityOnchange();</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            init();</span></span><br><span class="line"><span class="undefined">        &#125;)()</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><em>Demo如下：</em></p><script>    window.onload = function () {        (function () {            /* 常量 元素样式             */            const wrapStyle = "color:#999999;" +                "font-size:14px;" +                "color:#fd6ba6;" +                "padding:10px;";            const pStyle = "";            const inputRadioStyle = "margin:0 5px;";            const selectStyle =                "height:25px;" +                "border:1px solid #309AE6;" +                "border-radius:3px;" +                "color:#309AE6;" +                "box-shadow:2px 2px 3px #cccccc;" +                "margin:0 5px;";            const schools = [                {                    "city": "北京",                    "school": ["清华大学", "北京大学"],                    "major": [["软件工程", "计算机科学与技术"], ["电子科学与技术", "信息物理工程"]]},                {                    "city": "上海",                    "school": ["复旦大学", "上海交通大学", "上海大学"],                    "major": [["自动化", "电子科学与技术", "微电子制造工程"], ["信息物理工程", "电子科学与技术", "微电子制造工程"], ["计算机软件", "自动化", "微电子制造工程"]]                },                {                    "city": "湘潭",                    "school": ["湖南科技大学", "湘潭大学"],                    "major": [["计算机软件", "微电子制造工程"], ["微电子制造工程", "软件工程"]]},                {                    "city": "长沙",                    "school": ["湖南大学", "湖南学院"],                    "major": [["电子信息工程 ", "信息物理工程"], ["计算机科学与技术 ", "电子科学与技术"]]}            ];            const wrap = document.getElementById("form_wrap");            const _select = $("select");            /*工具函数             */            function $(s) {                return wrap.getElementsByTagName(s);            }            /*添加样式             */            function addStyle(el, style, num) {                var els = $(el);                if (els.length === 1) {                    els[0].style.cssText = style;                    console.log(els[0]);                } else {                    for (let i = 0; i < els.length; i++) {                        els[i].style.cssText = style;                    }                    //需要隐藏的元素                    if (els[num]) {                        els[num].style.display = "none";                    }                }            }            /*绑定事件             */            function radioOnChange() {                let el = $("input");                let p = $("p");                el[1].onchange = function () {                    p[1].style.display = "none";                    p[2].style.display = "block";                };                el[0].onchange = function () {                    p[1].style.display = "block";                    p[2].style.display = "none";                };            }            /*创建城市option            */            function creatCityOption() {                let string = "";                for (let i = 0; i < schools.length; i++) {                    string += "<option>" + schools[i].city + "</option>"                }                _select[0].innerHTML = "<option>请选择城市！</option>" + string;                _select[1].innerHTML = "<option>请选择学校！</option>";                _select[2].innerHTML = "<option>请选择专业！</option>";            }            /*添加城市与学校onchange            */            function cityOnchange() {                const _select = $("select");                _select[0].onchange = function () {                    for (let i = 0; i < schools.length; i++) {                        if (this.value === schools[i].city) {                            let string = "";//学校字符串                            for (let j = 0; j < schools[i].school.length; j++) {                                //学校                                string += "<option>" + schools[i].school[j] + "</option>";                                _select[1].innerHTML = string;                                //专业                                let str = "";//专业字符串                                for (let k = 0; k < schools[i].major[j].length; k++) {                                    str += "<option>" + schools[i].major[0][k] + "</option>";                                    _select[2].innerHTML = str;                                }                            }                        }                    }                };                _select[1].onchange = function () {                    for (let i = 0; i < schools.length; i++) {                        for (let j = 0; j < schools[i].school.length; j++) {                            let string = "";                            if (this.value === schools[i].school[j]) {                                for (let k = 0; k < schools[i].major[j].length; k++) {                                    string += "<option>" + schools[i].major[j][k] + "</option>";                                    _select[2].innerHTML = string;                                }                            }                        }                    }                }            }            function init() {                wrap.style.cssText = wrapStyle;                addStyle("p", pStyle, 2);                addStyle("input", inputRadioStyle);                addStyle("select", selectStyle);                radioOnChange();                creatCityOption();                cityOnchange();            }            init();        })()    }</script><div id="form_wrap"><p><input title="" name="student" type="radio" checked="true"><span>在校生</span><input title="" name="student" type="radio"><span>非在校生</span></p><p>学校：<select name="" title=""></select><select title="" name=""></select><select title="" name=""></select></p><p>就业单位：<input title="" type="text"></p></div>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;任务三：表单（三）联动&quot;&gt;&lt;a href=&quot;#任务三：表单（三）联动&quot; class=&quot;headerlink&quot; title=&quot;任务三：表单（三）联动&quot;&gt;&lt;/a&gt;任务三：表单（三）联动&lt;/h1&gt;&lt;h2 id=&quot;任务目的&quot;&gt;&lt;a href=&quot;#任务目的&quot; class=&quot;headerlink&quot; title=&quot;任务目的&quot;&gt;&lt;/a&gt;任务目的&lt;/h2&gt;&lt;p&gt;加强对JavaScript的掌握&lt;/p&gt;
&lt;p&gt;熟悉常用表单处理逻辑&lt;/p&gt;
&lt;h2 id=&quot;任务描述&quot;&gt;&lt;a href=&quot;#任务描述&quot; class=&quot;headerlink&quot; title=&quot;任务描述&quot;&gt;&lt;/a&gt;任务描述&lt;/h2&gt;&lt;p&gt;如示例图中所示，在页面中完成两个单选框，切换单选框的不同选项时下方显示的表单随之切换。&lt;br&gt;当选择在校生时，出现两个select下拉菜单，一个选择城市，一个选择学校，当选择非在校生时，出一个文本输入框&lt;br&gt;学校下拉菜单里的学校名单均为城市下拉菜单中所选的城市中的大学，当城市发生变化时，学校一起发生变化&lt;br&gt;城市及学校的数据随意编造即可，无需真实完整&lt;/p&gt;
&lt;h2 id=&quot;任务注意事项&quot;&gt;&lt;a href=&quot;#任务注意事项&quot; class=&quot;headerlink&quot; title=&quot;任务注意事项&quot;&gt;&lt;/a&gt;任务注意事项&lt;/h2&gt;&lt;p&gt;要求功能实现与任务描述中完全一致&lt;br&gt;示例图仅为参考，样式不需要完全实现一致&lt;br&gt;请注意代码风格的整齐、优雅&lt;br&gt;代码中含有必要的注释&lt;br&gt;不允许借助任何第三方组件库实现&lt;/p&gt;
    
    </summary>
    
    
      <category term="百度IFE2017" scheme="http://yoursite.com/tags/%E7%99%BE%E5%BA%A6IFE2017/"/>
    
  </entry>
  
  <entry>
    <title>Git常用命令速查表</title>
    <link href="http://yoursite.com/2017/09/01/git/Git-command/"/>
    <id>http://yoursite.com/2017/09/01/git/Git-command/</id>
    <published>2017-09-01T07:08:22.000Z</published>
    <updated>2018-02-28T03:43:14.689Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/uploads/git_command.jpg" style="border:none;border-radius: 10px;"></p><a id="more"></a>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/uploads/git_command.jpg&quot; style=&quot;border:none;border-radius: 10px;&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="Git" scheme="http://yoursite.com/tags/Git/"/>
    
  </entry>
  
</feed>
